<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LAPZOON | Al-Alamy Store</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Al Alamy Store - LAPZOON - متخصص في بيع اللاب توب جديد واستيراد وقطع غيار وهواتف مستعملة. اكتشف أحدث الموديلات بأسعار تنافسية.">
    <meta name="keywords" content="لاب توب, لاب توب جديد, لاب توب استيراد, قطع غيار لاب توب, هواتف مستعملة, موبايل مستعمل, كمبيوتر محمول, ديل, اتش بي, لينوفو, ايسر,العالمي ستور , LAPZOON ,LAPZOON, Al Alamy Store , لاب زوون , العالمي ستور , زوون , لاب زون , عروض العالمي ستور ">
    <meta name="author" content="Al Alamy Store - LAPZOON">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#1b5e20">

    <!-- OG Tags for Social Media -->
    <meta property="og:title" content="LAPZOON | Al-Alamy Store - لاب توب جديد واستيراد وهواتف مستعملة">
    <meta property="og:description" content="متجر مصري متخصص في اللاب توب الجديد والاستيراد والهواتف المستعملة، اكتشف تشكيلتنا المميزة الآن.">
    <meta property="og:image" content="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ar_EG">
    <meta property="og:url" content="https://alalamylapzoon.github.io/lapzoon/">
    <meta property="og:site_name" content="LAPZOON | Al-Alamy Store">
    
    <!-- Favicon -->
    <link rel="icon" href="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png" type="image/png">
    <link rel="apple-touch-icon" href="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://alalamylapzoon.github.io/lapzoon/">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&family=Almarai:wght@400;700;800&display=swap" rel="stylesheet">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ElectronicsStore",
      "name": "Al Alamy Store - LAPZOON",
      "description": "متجر متخصص في بيع اللاب توب جديد واستيراد وقطع غيار وهواتف مستعملة",
      "url": "https://alalamylapzoon.github.io/lapzoon/",
      "logo": "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png",
      "telephone": "+201016805576",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Cairo",
        "addressRegion": "Cairo",
        "addressCountry": "EG"
      },
      "openingHours": "Mo, Tu, We, Th, Su 09:00-18:00",
      "priceRange": "$$",
      "sameAs": [
        "https://www.facebook.com/share/1B9FM4mW5Q/?mibextid=wwXIfr",
        "https://www.instagram.com/lapzone"
      ]
    }

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = "https://ojqlwvducojhpypfbwev.supabase.co";
  const SUPABASE_ANON_KEY = "sb_publishable_ZwJx3a8WsH6xiFZPm4oycA_nnoiKIYb";
   window.sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
<style>
    /* =========================
   01) Root Variables
   ========================= */
:root{
  /* Brand */
  --brand: #15c16f;          /* Main green */
  --brand-2: #0ea85f;        /* Darker green */
  --brand-3: #39ff9a;        /* Neon accent */
  --accent: #0fb5ff;         /* Optional accent blue */
  --danger: #ff3b3b;
  --warning: #ffb020;

  /* Neutrals */
  --bg: #0b0f14;
  --bg-2: #0e141b;
  --surface: #0f1720;
  --surface-2: #111c26;
  --card: rgba(255,255,255,.06);
  --card-2: rgba(255,255,255,.085);
  --stroke: rgba(255,255,255,.12);
  --stroke-2: rgba(255,255,255,.18);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --muted-2: rgba(255,255,255,.58);
  --soft: rgba(255,255,255,.10);

  /* Light mode fallback (sections bg-light) */
  --light-bg: #f6f8fb;
  --light-surface: #ffffff;
  --light-text: #111827;
  --light-muted: #4b5563;
  --light-stroke: rgba(17,24,39,.12);

  /* Typography */
  --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans Arabic", "Tahoma", sans-serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Radius */
  --r-xs: 10px;
  --r-sm: 14px;
  --r-md: 18px;
  --r-lg: 22px;
  --r-xl: 28px;

  /* Shadows */
  --shadow-sm: 0 8px 22px rgba(0,0,0,.25);
  --shadow-md: 0 14px 44px rgba(0,0,0,.36);
  --shadow-lg: 0 26px 80px rgba(0,0,0,.52);

  /* Transitions */
  --t-fast: 160ms;
  --t-mid: 260ms;
  --t-slow: 520ms;
  --ease: cubic-bezier(.2,.8,.2,1);

  /* Layout */
  --container: 1180px;
  --gap: 24px;
}

/* =========================
   02) Base Reset
   ========================= */
*,
*::before,
*::after{ box-sizing: border-box; }

html{
  direction: rtl;
  scroll-behavior: smooth;
  text-size-adjust: 100%;
}

body{
  margin: 0;
  font-family: var(--font);
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 15% 10%, rgba(21,193,111,.14) 0%, rgba(21,193,111,0) 60%),
    radial-gradient(900px 650px at 90% 15%, rgba(15,181,255,.10) 0%, rgba(15,181,255,0) 60%),
    linear-gradient(180deg, #070a0e 0%, #0b0f14 60%, #070a0e 100%);
  min-height: 100vh;
  line-height: 1.65;
}

img{ max-width: 100%; display: block; }
a{ color: inherit; text-decoration: none; }
button, input, select, textarea{ font-family: inherit; }
ul{ margin: 0; padding: 0; list-style: none; }

::selection{
  background: rgba(21,193,111,.28);
  color: #fff;
}

/* Better focus for accessibility */
:focus{ outline: none; }
:focus-visible{
  outline: 3px solid rgba(57,255,154,.55);
  outline-offset: 2px;
  border-radius: 10px;
}

/* =========================
   03) Container + Utilities
   ========================= */
.container{
  width: min(100% - 24px, var(--container));
  margin-inline: auto;
}

.page-content{
  padding: 24px 0 60px;
}

.text-center{ text-align: center; }
.mt-8{ margin-top: 2rem; }
.bg-light{
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
}

.fade-in-up{
  animation: fadeUp .8s var(--ease) both;
}

@keyframes fadeUp{
  from{ opacity: 0; transform: translateY(18px); }
  to{ opacity: 1; transform: translateY(0); }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 1ms !important;
    scroll-behavior: auto !important;
  }
}

/* =========================
   04) Scrollbar (optional)
   ========================= */
::-webkit-scrollbar{ width: 10px; }
::-webkit-scrollbar-track{ background: rgba(255,255,255,.04); }
::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(21,193,111,.55), rgba(15,181,255,.30));
  border-radius: 12px;
  border: 2px solid rgba(0,0,0,.15);
}
::-webkit-scrollbar-thumb:hover{
  background: linear-gradient(180deg, rgba(21,193,111,.8), rgba(15,181,255,.45));
}

/* =========================
   05) Loading Overlay
   ========================= */
.loading-overlay{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--t-mid) var(--ease);
}
.loading-overlay.active{
  opacity: 1;
  pointer-events: auto;
}
.loading-spinner{
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: 4px solid rgba(255,255,255,.12);
  border-top-color: rgba(57,255,154,.95);
  border-right-color: rgba(15,181,255,.55);
  animation: spin 1s linear infinite;
  box-shadow: var(--shadow-md);
}
@keyframes spin{
  to{ transform: rotate(360deg); }
}

/* =========================
   06) Header + Nav
   ========================= */
header{
  position: sticky;
  top: 0;
  z-index: 1000;
  background: rgba(10,14,18,.58);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.header-container{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
  padding: 14px 0;
}

.logo{
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 210px;
}
.logo img{
  width: 48px;
  height: 48px;
  border-radius: 14px;
  object-fit: contain;
  background: rgba(255,255,255,.06);
  padding: 6px;
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 10px 22px rgba(0,0,0,.35);
}
.logo-text h1{
  font-size: 1.05rem;
  margin: 0;
  letter-spacing: .2px;
  line-height: 1.2;
}
.lapzone-brand{
  font-size: .82rem;
  color: rgba(57,255,154,.88);
  opacity: .92;
}
.alamy-store-text{
  color: rgba(57,255,154,.95);
  text-shadow: 0 0 20px rgba(57,255,154,.22);
}

/* Nav */
#main-nav{
  display: flex;
  align-items: center;
  gap: 14px;
}

#main-menu{
  display: flex;
  align-items: center;
  gap: 8px;
}

#main-menu a{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 999px;
  color: rgba(255,255,255,.86);
  border: 1px solid transparent;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease),
              color var(--t-fast) var(--ease);
  position: relative;
  user-select: none;
}

#main-menu a:hover{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.10);
  transform: translateY(-1px);
}

#main-menu a.active{
  background: linear-gradient(180deg, rgba(21,193,111,.24), rgba(21,193,111,.10));
  border-color: rgba(57,255,154,.30);
  color: rgba(255,255,255,.96);
  box-shadow: 0 10px 30px rgba(21,193,111,.12);
}

#main-menu a.active::after{
  content:"";
  position:absolute;
  inset-inline: 14px;
  bottom: 6px;
  height: 2px;
  border-radius: 2px;
  background: linear-gradient(90deg, rgba(57,255,154,.95), rgba(15,181,255,.55));
  opacity: .9;
}

/* Mobile nav buttons */
.nav-buttons{
  display: none;
  align-items: center;
  gap: 10px;
}

.mobile-menu-btn,
.mobile-search-btn{
  width: 42px;
  height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.9);
  cursor: pointer;
  display: inline-grid;
  place-items: center;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}

.mobile-menu-btn:hover,
.mobile-search-btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.22);
}

/* =========================
   07) Search UI (Header)
   ========================= */
.header-search-container{
  flex: 1;
  display: flex;
  justify-content: center;
}

.search-box{
  width: min(520px, 100%);
  position: relative;
}

.search-input{
  width: 100%;
  height: 46px;
  padding: 0 14px 0 44px; /* RTL: icon left visually but padding remains ok */
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  transition: border-color var(--t-fast) var(--ease),
              box-shadow var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease);
}

.search-input::placeholder{
  color: rgba(255,255,255,.55);
}

.search-input:focus{
  border-color: rgba(57,255,154,.35);
  box-shadow: 0 0 0 4px rgba(57,255,154,.14);
  background: rgba(255,255,255,.08);
}

.search-icon{
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,.62);
  pointer-events: none;
}

.search-results{
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  right: 0;
  background: rgba(12,17,22,.92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 18px;
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  max-height: 360px;
  overflow-y: auto;
  opacity: 0;
  transform: translateY(-6px);
  pointer-events: none;
  transition: opacity var(--t-mid) var(--ease),
              transform var(--t-mid) var(--ease);
}

.search-results.active{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.search-empty{
  padding: 20px;
  text-align: center;
  color: rgba(255,255,255,.72);
}

.search-result-item{
  display: flex;
  gap: 12px;
  padding: 12px;
  cursor: pointer;
  transition: background var(--t-fast) var(--ease);
  border-bottom: 1px solid rgba(255,255,255,.07);
}

.search-result-item:hover{
  background: rgba(255,255,255,.06);
}

.search-result-image{
  width: 54px;
  height: 54px;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  flex-shrink: 0;
  background: rgba(255,255,255,.06);
}

.search-result-image img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.search-result-info{
  display: grid;
  gap: 3px;
}

.search-result-name{
  font-weight: 800;
  font-size: .95rem;
  color: rgba(255,255,255,.94);
}

.search-result-category{
  font-size: .82rem;
  color: rgba(255,255,255,.66);
}

.search-result-price{
  font-size: .9rem;
  font-weight: 900;
  color: rgba(57,255,154,.92);
}

/* =========================
   08) Breadcrumb
   ========================= */
.breadcrumb{
  background: rgba(255,255,255,.03);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.breadcrumb-container{
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 0;
  color: rgba(255,255,255,.78);
  font-size: .92rem;
}

.breadcrumb-item a{
  color: rgba(255,255,255,.86);
  padding: 6px 10px;
  border-radius: 12px;
  transition: background var(--t-fast) var(--ease);
}

.breadcrumb-item a:hover{
  background: rgba(255,255,255,.06);
}

.breadcrumb-item.active{
  color: rgba(57,255,154,.92);
  font-weight: 800;
}

.breadcrumb-separator{
  opacity: .6;
}

/* =========================
   09) Hero Section
   ========================= */
.hero{
  position: relative;
  padding: 64px 0 44px;
  overflow: hidden;
}

.hero::before{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(900px 600px at 20% 20%, rgba(21,193,111,.25), rgba(21,193,111,0) 60%),
    radial-gradient(700px 520px at 80% 35%, rgba(15,181,255,.16), rgba(15,181,255,0) 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  pointer-events:none;
}

.hero::after{
  content:"";
  position:absolute;
  inset: -200px;
  background-image:
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.07) 1px, rgba(0,0,0,0) 1px);
  background-size: 22px 22px;
  opacity: .35;
  transform: rotate(8deg);
  pointer-events:none;
}

.hero-content{
  position: relative;
  max-width: 760px;
}

.hero h1{
  margin: 0 0 12px;
  font-size: clamp(1.6rem, 1.2rem + 1.6vw, 2.6rem);
  line-height: 1.25;
  letter-spacing: .2px;
  color: rgba(255,255,255,.96);
}

.hero p{
  margin: 0 0 18px;
  font-size: 1.05rem;
  color: rgba(255,255,255,.74);
}

.hero-btns{
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

/* =========================
   10) Buttons System
   ========================= */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 12px 16px;
  border-radius: 16px;
  border: 1px solid transparent;
  cursor: pointer;
  font-weight: 900;
  letter-spacing: .2px;
  transition: transform var(--t-fast) var(--ease),
              box-shadow var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease),
              color var(--t-fast) var(--ease);
  user-select: none;
}

.btn i{ font-size: 1.05em; }

.btn-primary{
  background: linear-gradient(180deg, rgba(21,193,111,.95), rgba(14,168,95,.92));
  color: #062012;
  border-color: rgba(57,255,154,.25);
  box-shadow: 0 16px 45px rgba(21,193,111,.16);
}

.btn-primary:hover{
  transform: translateY(-2px);
  box-shadow: 0 22px 60px rgba(21,193,111,.22);
  filter: saturate(1.05);
}

.btn-outline{
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.92);
  border-color: rgba(255,255,255,.14);
}

.btn-outline:hover{
  transform: translateY(-2px);
  border-color: rgba(57,255,154,.26);
  box-shadow: 0 18px 56px rgba(0,0,0,.26);
}

.btn-accent{
  background: linear-gradient(180deg, rgba(15,181,255,.95), rgba(15,181,255,.70));
  color: #07131a;
  border-color: rgba(15,181,255,.22);
  box-shadow: 0 18px 58px rgba(15,181,255,.16);
}

.btn-accent:hover{
  transform: translateY(-2px);
  box-shadow: 0 24px 70px rgba(15,181,255,.22);
}

/* =========================
   11) Section Titles
   ========================= */
.section-title{
  text-align: center;
  padding: 38px 0 22px;
}

.section-title h2{
  margin: 0 0 10px;
  font-size: clamp(1.35rem, 1rem + 1vw, 2rem);
  letter-spacing: .2px;
}

.section-title p{
  margin: 0;
  color: rgba(255,255,255,.68);
}

/* =========================
   12) Showcase Sliders
   ========================= */
.showcase-featured,
.dynamic-showcase{
  padding: 30px 0 40px;
}

.showcase-container{
  display: grid;
  gap: 18px;
}

.showcase-header{
  display: grid;
  gap: 6px;
  text-align: right;
}

.showcase-header h2{
  margin: 0;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 1.35rem;
  letter-spacing: .2px;
}

.showcase-header h2 i{
  color: rgba(57,255,154,.92);
  text-shadow: 0 0 18px rgba(57,255,154,.16);
}

.showcase-header p{
  margin: 0;
  color: rgba(255,255,255,.68);
}

.showcase-frame{
  position: relative;
  border-radius: var(--r-xl);
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  box-shadow: var(--shadow-md);
  overflow: hidden;
  padding: 18px 14px 20px;
}

/* Track */
.showcase-track{
  display: flex;
  gap: 2rem; /* JS reads this gap */
  will-change: transform;
  transition: transform var(--t-slow) var(--ease);
  padding: 6px 6px 10px;
}

/* Slide */
.showcase-slide{
  flex: 0 0 calc((100% - (2rem * 2)) / 3);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(10,14,18,.55);
  box-shadow: 0 16px 50px rgba(0,0,0,.30);
  overflow: hidden;
  position: relative;
  transform: translateZ(0);
  transition: transform var(--t-mid) var(--ease),
              box-shadow var(--t-mid) var(--ease),
              border-color var(--t-mid) var(--ease);
}

.showcase-slide:hover{
  transform: translateY(-6px);
  box-shadow: 0 24px 76px rgba(0,0,0,.44);
  border-color: rgba(57,255,154,.22);
}

.showcase-slide-badge{
  position: absolute;
  top: 14px;
  right: 14px;
  padding: 8px 10px;
  border-radius: 999px;
  background: rgba(255,59,59,.18);
  border: 1px solid rgba(255,59,59,.30);
  color: rgba(255,255,255,.95);
  font-weight: 900;
  font-size: .86rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 2;
}

.showcase-slide-img{
  height: 190px;
  overflow: hidden;
  background: rgba(255,255,255,.04);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.showcase-slide-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.01);
  transition: transform var(--t-slow) var(--ease),
              filter var(--t-slow) var(--ease);
}

.showcase-slide:hover .showcase-slide-img img{
  transform: scale(1.08);
  filter: contrast(1.02) saturate(1.08);
}

.showcase-slide-content{
  padding: 14px 14px 16px;
  display: grid;
  gap: 10px;
}

.showcase-slide-title{
  margin: 0;
  font-size: 1.02rem;
  font-weight: 900;
  color: rgba(255,255,255,.95);
  line-height: 1.35;
  max-height: calc(1.35em * 2);
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
}

.showcase-slide-description{
  margin: 0;
  color: rgba(255,255,255,.70);
  font-size: .92rem;
  line-height: 1.55;
  max-height: calc(1.55em * 2);
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
}

.showcase-slide-price{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.showcase-current-price{
  font-size: 1.05rem;
  font-weight: 1000;
  color: rgba(57,255,154,.92);
}

.showcase-original-price{
  font-size: .92rem;
  color: rgba(255,255,255,.60);
  text-decoration: line-through;
}

.showcase-slide-actions{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 6px;
}

/* Controls */
.showcase-controls{
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.showcase-prev,
.showcase-next{
  pointer-events: auto;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 46px;
  height: 46px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(8,12,16,.60);
  color: rgba(255,255,255,.92);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
}

.showcase-prev{ right: 12px; }
.showcase-next{ left: 12px; }

.showcase-prev:hover,
.showcase-next:hover{
  transform: translateY(-50%) scale(1.04);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.22);
}

/* Indicators */
.showcase-indicators{
  display: flex;
  justify-content: center;
  gap: 10px;
  padding-top: 14px;
}

.showcase-indicator{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  border: 1px solid rgba(255,255,255,.10);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              width var(--t-fast) var(--ease);
}

.showcase-indicator:hover{
  transform: scale(1.15);
  background: rgba(255,255,255,.32);
}

.showcase-indicator.active{
  width: 28px;
  background: linear-gradient(90deg, rgba(57,255,154,.95), rgba(15,181,255,.55));
  border-color: rgba(57,255,154,.18);
}

/* No products message inside track */
.showcase-no-products{
  width: 100%;
  padding: 40px 14px;
  text-align: center;
  color: rgba(255,255,255,.75);
}
.showcase-no-products i{
  font-size: 2.6rem;
  color: rgba(57,255,154,.70);
  margin-bottom: 10px;
}
.showcase-no-products h3{
  margin: 6px 0;
}
.showcase-no-products p{
  margin: 0;
  color: rgba(255,255,255,.60);
}

/* =========================
   13) Categories Grid
   ========================= */
.categories{
  display: grid;
  grid-template-columns: repeat(5, minmax(0,1fr));
  gap: 16px;
  padding-bottom: 50px;
}

.category-card{
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  box-shadow: 0 16px 55px rgba(0,0,0,.26);
  overflow: hidden;
  cursor: pointer;
  transition: transform var(--t-mid) var(--ease),
              box-shadow var(--t-mid) var(--ease),
              border-color var(--t-mid) var(--ease);
  position: relative;
}

.category-card:hover{
  transform: translateY(-6px);
  border-color: rgba(57,255,154,.22);
  box-shadow: 0 26px 80px rgba(0,0,0,.44);
}

.category-img{
  height: 170px;
  position: relative;
  overflow: hidden;
  background: rgba(255,255,255,.04);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.category-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.02);
  transition: transform var(--t-slow) var(--ease), filter var(--t-slow) var(--ease);
}
.category-card:hover .category-img img{
  transform: scale(1.1);
  filter: saturate(1.08) contrast(1.02);
}

.offer-badge{
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(21,193,111,.18);
  border: 1px solid rgba(57,255,154,.25);
  color: rgba(255,255,255,.95);
  font-weight: 900;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.category-content{
  padding: 14px 14px 16px;
  display: grid;
  gap: 8px;
}
.category-content h3{
  margin: 0;
  font-size: 1.02rem;
  font-weight: 900;
}
.category-content p{
  margin: 0;
  color: rgba(255,255,255,.70);
  font-size: .92rem;
}

/* =========================
   14) Category Page Controls
   ========================= */
.home-btn{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin: 14px 0 18px;
  padding: 10px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.9);
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.home-btn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.20);
}

.sorting-controls{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
  margin-bottom: 18px;
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}

.sorting-label{
  color: rgba(255,255,255,.75);
  font-weight: 800;
}

.sorting-buttons{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.sort-btn{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.88);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.sort-btn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
}
.sort-btn.active{
  border-color: rgba(57,255,154,.22);
  background: rgba(21,193,111,.14);
}

/* =========================
   15) Products Grid
   ========================= */
.products-grid{
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 16px;
}

.no-products{
  grid-column: 1 / -1;
  text-align: center;
  padding: 48px 12px;
  border-radius: 22px;
  border: 1px dashed rgba(255,255,255,.18);
  background: rgba(255,255,255,.04);
}
.no-products i{
  font-size: 2.8rem;
  color: rgba(57,255,154,.70);
  margin-bottom: 10px;
}
.no-products h3{ margin: 6px 0; }
.no-products p{ margin: 0; color: rgba(255,255,255,.65); }

.product-card{
  border-radius: 24px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  box-shadow: 0 18px 60px rgba(0,0,0,.30);
  overflow: hidden;
  position: relative;
  transition: transform var(--t-mid) var(--ease),
              box-shadow var(--t-mid) var(--ease),
              border-color var(--t-mid) var(--ease);
}

.product-card:hover{
  transform: translateY(-6px);
  border-color: rgba(57,255,154,.22);
  box-shadow: 0 28px 90px rgba(0,0,0,.46);
}

/* Badges */
.product-badges{
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 2;
  display: grid;
  gap: 8px;
}

.badge{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  font-weight: 900;
  font-size: .86rem;
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.badge-primary{
  background: rgba(255,59,59,.18);
  border-color: rgba(255,59,59,.30);
  color: rgba(255,255,255,.96);
}

/* Images (works with your hover swap CSS too) */
.product-images{
  height: 250px;
  position: relative;
  overflow: hidden;
  border-radius: 24px 24px 0 0;
  background: rgba(255,255,255,.04);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.product-images img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--t-slow) var(--ease),
              opacity var(--t-slow) var(--ease),
              filter var(--t-slow) var(--ease);
}
.product-card:hover .product-images img:first-child{
  transform: scale(1.06);
  filter: saturate(1.08) contrast(1.02);
}

.product-info{
  padding: 14px 14px 16px;
  display: grid;
  gap: 10px;
}

.product-info h3{
  margin: 0;
  font-size: 1.02rem;
  font-weight: 900;
  line-height: 1.35;
  
  /* بديل line-clamp: سطرين */
  max-height: calc(1.35em * 2);
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
}


.product-info p{
  margin: 0;
  color: rgba(255,255,255,.70);
  font-size: .92rem;
  line-height: 1.55;

  /* بديل line-clamp: سطرين */
  max-height: calc(1.55em * 2);
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
}


.product-price{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.current-price{
  font-weight: 1000;
  color: rgba(57,255,154,.92);
  font-size: 1.05rem;
}

.original-price{
  color: rgba(255,255,255,.62);
  text-decoration: line-through;
  font-size: .92rem;
}

.product-actions{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.add-to-cart-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  font-weight: 900;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}

.add-to-cart-btn:hover{
  transform: translateY(-2px);
  background: rgba(21,193,111,.12);
  border-color: rgba(57,255,154,.22);
}

/* =========================
   16) Product Detail Page
   ========================= */
.product-detail-page{
  padding: 22px 0 70px;
}

.product-detail-container{
  margin-top: 10px;
}

.product-detail-wrapper{
  display: grid;
  grid-template-columns: 1.05fr .95fr;
  gap: 18px;
  align-items: start;
}

.product-detail-images,
.product-detail-info{
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  box-shadow: 0 18px 70px rgba(0,0,0,.32);
  overflow: hidden;
}

.product-detail-images{
  padding: 14px;
}

.main-image-wrapper{
  position: relative;
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}

.main-image{
  width: 100%;
  height: 420px;
  object-fit: contain;
  background: rgba(0,0,0,.18);
}

.image-zoom{
  position: absolute;
  left: 12px;
  bottom: 12px;
  width: 44px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(8,12,16,.55);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.image-zoom:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.20);
}

.thumbnail-images{
  display: flex;
  gap: 10px;
  margin-top: 12px;
  flex-wrap: wrap;
}

.thumbnail{
  width: 76px;
  height: 76px;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.thumbnail img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.thumbnail:hover{
  transform: translateY(-2px);
  border-color: rgba(57,255,154,.22);
}
.thumbnail.active{
  border-color: rgba(57,255,154,.35);
  box-shadow: 0 18px 60px rgba(21,193,111,.18);
}

.product-detail-info{
  padding: 18px;
}

.product-detail-category{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(21,193,111,.12);
  border: 1px solid rgba(57,255,154,.18);
  color: rgba(255,255,255,.92);
  font-weight: 900;
}

.product-detail-title{
  margin: 12px 0 10px;
  font-size: 1.45rem;
  line-height: 1.35;
}

.product-detail-meta{
  display: grid;
  gap: 8px;
  color: rgba(255,255,255,.74);
  font-size: .92rem;
  margin-bottom: 12px;
}
.product-detail-meta span{
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.product-detail-price-container{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  margin: 12px 0 14px;
}

.detail-current-price{
  font-size: 1.4rem;
  font-weight: 1000;
  color: rgba(57,255,154,.92);
}

.detail-original-price{
  margin-right: 10px;
  color: rgba(255,255,255,.60);
  text-decoration: line-through;
  font-weight: 800;
}

.detail-discount{
  display: inline-flex;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,59,59,.16);
  border: 1px solid rgba(255,59,59,.26);
  font-weight: 900;
  color: rgba(255,255,255,.94);
}

/* Share buttons */
.share-buttons-container{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  margin-bottom: 12px;
}

.share-label{
  color: rgba(255,255,255,.72);
  font-weight: 900;
}

.share-buttons{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.share-btn{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  font-weight: 900;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.share-btn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.20);
}
.share-whatsapp{
  background: rgba(21,193,111,.12);
  border-color: rgba(57,255,154,.22);
}
.share-copy{
  background: rgba(15,181,255,.10);
  border-color: rgba(15,181,255,.18);
}

/* Gifts */
.product-gifts{
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  margin: 12px 0;
}
.gifts-title{
  margin: 0 0 10px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 1.05rem;
}
.gifts-title i{
  color: rgba(57,255,154,.92);
}
.gifts-list{
  display: grid;
  gap: 10px;
}
.gifts-list li{
  display: flex;
  align-items: center;
  gap: 10px;
  color: rgba(255,255,255,.80);
}
.gifts-list i{
  color: rgba(57,255,154,.92);
}

/* Detail description */
.product-detail-description{
  color: rgba(255,255,255,.74);
  margin: 12px 0 16px;
  line-height: 1.75;
}

/* Specs */
.product-detail-specs{
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  margin-bottom: 14px;
}
.specs-title{
  margin: 0 0 10px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 1.05rem;
}
.specs-title i{
  color: rgba(15,181,255,.85);
}
.specs-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.spec-item{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  display: grid;
  gap: 6px;
}
.spec-label{
  font-weight: 900;
  color: rgba(255,255,255,.86);
  font-size: .9rem;
}
.spec-value{
  color: rgba(255,255,255,.72);
  font-size: .9rem;
}

/* Quantity & actions */
.product-detail-actions-container{
  display: grid;
  gap: 12px;
}

.quantity-selector-wrapper{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}

.quantity-label{
  font-weight: 900;
  color: rgba(255,255,255,.76);
}

.quantity-selector{
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.quantity-btn{
  width: 42px;
  height: 42px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.quantity-btn:hover{
  transform: translateY(-2px);
  border-color: rgba(57,255,154,.20);
  background: rgba(255,255,255,.08);
}
.quantity-input{
  width: 70px;
  height: 42px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(255,255,255,.92);
  text-align: center;
  font-weight: 900;
}

.action-buttons{
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 10px;
  align-items: center;
}

.wishlist-btn{
  width: 46px;
  height: 46px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.wishlist-btn:hover{
  transform: translateY(-2px);
  border-color: rgba(255,59,59,.30);
  background: rgba(255,59,59,.10);
}

/* WhatsApp inquiry */
.whatsapp-inquiry{
  margin-top: 14px;
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(57,255,154,.18);
  background: rgba(21,193,111,.10);
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}
.whatsapp-inquiry > i{
  font-size: 1.8rem;
  color: rgba(57,255,154,.92);
}
.whatsapp-inquiry-content{
  flex: 1;
  min-width: 220px;
}
.whatsapp-inquiry-content h4{
  margin: 0 0 6px;
}
.whatsapp-inquiry-content p{
  margin: 0;
  color: rgba(255,255,255,.78);
  font-size: .92rem;
}
.whatsapp-inquiry-btn{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(57,255,154,.22);
  background: rgba(8,12,16,.45);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  font-weight: 900;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.whatsapp-inquiry-btn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.32);
}

/* =========================
   17) Checkout Section
   ========================= */
.checkout-section{
  padding: 20px 0 70px;
}

.checkout-container{
  display: grid;
  grid-template-columns: 1fr .9fr;
  gap: 16px;
  align-items: start;
}

.checkout-form-container,
.checkout-summary{
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  box-shadow: 0 18px 70px rgba(0,0,0,.30);
  overflow: hidden;
}

.checkout-form-container{
  padding: 18px;
}

.checkout-steps{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}

.checkout-step{
  flex: 1;
  min-width: 180px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(255,255,255,.72);
  font-weight: 900;
  text-align: center;
}

.checkout-step.active{
  background: rgba(21,193,111,.14);
  border-color: rgba(57,255,154,.22);
  color: rgba(255,255,255,.92);
}

.form-title{
  margin: 10px 0 14px;
  font-size: 1.2rem;
}

.form-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.form-group{
  display: grid;
  gap: 8px;
  margin-bottom: 12px;
}

.form-label{
  color: rgba(255,255,255,.78);
  font-weight: 900;
}

.form-control{
  width: 100%;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(255,255,255,.92);
  padding: 12px 12px;
  transition: border-color var(--t-fast) var(--ease),
              box-shadow var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease);
}

.form-control:focus{
  border-color: rgba(57,255,154,.35);
  box-shadow: 0 0 0 4px rgba(57,255,154,.14);
  background: rgba(255,255,255,.06);
}

textarea.form-control{
  resize: vertical;
  min-height: 90px;
}

select.form-control{
  cursor: pointer;
}

.whatsapp-note{
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(57,255,154,.18);
  background: rgba(21,193,111,.10);
  color: rgba(255,255,255,.86);
  margin: 10px 0 14px;
}

.whatsapp-note i{
  color: rgba(57,255,154,.92);
  font-size: 1.2rem;
}

.form-footer{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.back-to-cart{
  color: rgba(255,255,255,.78);
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  transition: background var(--t-fast) var(--ease), transform var(--t-fast) var(--ease);
}
.back-to-cart:hover{
  background: rgba(255,255,255,.08);
  transform: translateY(-2px);
}

.submit-order-btn{
  min-width: 240px;
}

/* Summary */
.checkout-summary{
  padding: 18px;
}

.order-summary{
  display: grid;
  gap: 12px;
}

.summary-title{
  margin: 0;
  font-size: 1.2rem;
}

.summary-items{
  display: grid;
  gap: 10px;
  max-height: 360px;
  overflow: auto;
  padding-right: 6px;
}

.summary-item{
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 10px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
}

.summary-item-img{
  width: 62px;
  height: 62px;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  flex-shrink: 0;
}

.summary-item-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.summary-item-details h4{
  margin: 0 0 6px;
  font-size: .98rem;
  line-height: 1.35;
}
.summary-item-price{
  color: rgba(57,255,154,.92);
  font-weight: 1000;
}
.summary-item-quantity{
  color: rgba(255,255,255,.68);
  font-size: .9rem;
}

.summary-totals{
  border-top: 1px solid rgba(255,255,255,.10);
  padding-top: 12px;
  display: grid;
  gap: 10px;
}

.summary-row{
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: rgba(255,255,255,.78);
}
.summary-total{
  font-weight: 1000;
  color: rgba(255,255,255,.92);
}

/* =========================
   18) Floating Buttons
   ========================= */
.floating-buttons{
  position: fixed;
  left: 18px;
  bottom: 18px;
  z-index: 1100;
  display: grid;
  gap: 12px;
}

.floating-btn{
  width: 56px;
  height: 56px;
  border-radius: 20px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(8,12,16,.58);
  color: rgba(255,255,255,.94);
  cursor: pointer;
  box-shadow: 0 18px 70px rgba(0,0,0,.40);
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}

.floating-btn:hover{
  transform: translateY(-3px);
  background: rgba(255,255,255,.08);
  border-color: rgba(57,255,154,.22);
}

.whatsapp-btn{
  background: rgba(21,193,111,.14);
  border-color: rgba(57,255,154,.22);
}

.cart-btn{
  position: relative;
}

.floating-badge{
  position: absolute;
  top: -8px;
  right: -8px;
  min-width: 22px;
  height: 22px;
  padding: 0 6px;
  border-radius: 999px;
  background: rgba(255,59,59,.92);
  color: #fff;
  font-size: .78rem;
  font-weight: 1000;
  display: grid;
  place-items: center;
  border: 2px solid rgba(8,12,16,.85);
}

/* =========================
   19) Shopping Cart Side Panel
   ========================= */
.shopping-cart{
  position: fixed;
  top: 0;
  right: 0;
  width: min(420px, 92vw);
  height: 100vh;
  background: rgba(10,14,18,.92);
  border-left: 1px solid rgba(255,255,255,.10);
  box-shadow: -24px 0 80px rgba(0,0,0,.55);
  transform: translateX(110%);
  transition: transform var(--t-slow) var(--ease);
  z-index: 1200;
  display: grid;
  grid-template-rows: auto 1fr auto;
  overflow: hidden;
}

.shopping-cart.active{
  transform: translateX(0);
}

.cart-header{
  padding: 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}

.cart-title{
  margin: 0;
  font-size: 1.1rem;
}

.close-cart{
  width: 44px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease);
}
.close-cart:hover{
  transform: translateY(-2px);
  background: rgba(255,59,59,.10);
}

.cart-body{
  padding: 14px;
  overflow: auto;
}

.cart-empty{
  min-height: 60vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  text-align: center;
  color: rgba(255,255,255,.76);
}
.cart-empty i{
  font-size: 2.6rem;
  color: rgba(57,255,154,.75);
}
.cart-empty h3{ margin: 0; }
.cart-empty p{ margin: 0; color: rgba(255,255,255,.62); }

.cart-items{
  display: grid;
  gap: 12px;
}

.cart-item{
  display: grid;
  grid-template-columns: 76px 1fr;
  gap: 12px;
  padding: 12px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}

.cart-item-img{
  width: 76px;
  height: 76px;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.cart-item-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cart-item-title{
  margin: 0 0 6px;
  font-size: .98rem;
  font-weight: 900;
  line-height: 1.35;
}

.cart-item-category{
  margin: 0 0 6px;
  color: rgba(255,255,255,.66);
  font-size: .86rem;
}

.cart-item-price{
  font-weight: 1000;
  color: rgba(57,255,154,.92);
  margin-bottom: 8px;
}

.cart-item-actions{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.cart-item-quantity{
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.quantity-change{
  width: 38px;
  height: 38px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease);
}
.quantity-change:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.08);
}
.quantity-display{
  min-width: 28px;
  text-align: center;
  font-weight: 1000;
}

.cart-item-remove{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,59,59,.22);
  background: rgba(255,59,59,.10);
  color: rgba(255,255,255,.92);
  cursor: pointer;
  font-weight: 900;
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease);
}
.cart-item-remove:hover{
  transform: translateY(-2px);
  background: rgba(255,59,59,.14);
}

.cart-footer{
  padding: 16px;
  border-top: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  display: grid;
  gap: 12px;
}

.cart-subtotal{
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: rgba(255,255,255,.82);
  font-weight: 900;
}

.checkout-btn{
  width: 100%;
  justify-content: center;
}

/* =========================
   20) Trust Bar
   ========================= */
.trust-bar{
  padding: 28px 0;
  background: rgba(255,255,255,.02);
  border-top: 1px solid rgba(255,255,255,.08);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.trust-items{
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 14px;
}

.trust-item{
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 14px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: 0 16px 60px rgba(0,0,0,.26);
}

.trust-icon{
  width: 52px;
  height: 52px;
  border-radius: 20px;
  display: grid;
  place-items: center;
  background: rgba(21,193,111,.12);
  border: 1px solid rgba(57,255,154,.18);
  color: rgba(57,255,154,.92);
  flex-shrink: 0;
}
.trust-content h4{
  margin: 0 0 6px;
  font-size: 1rem;
}
.trust-content p{
  margin: 0;
  color: rgba(255,255,255,.68);
  font-size: .9rem;
}

/* =========================
   21) Footer
   ========================= */
.footer{
  padding: 40px 0 0;
  background: rgba(8,12,16,.55);
  border-top: 1px solid rgba(255,255,255,.10);
}

.footer-container{
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1.2fr;
  gap: 18px;
  padding-bottom: 22px;
}

.footer-logo{
  display: flex;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
}

.footer-logo img{
  width: 52px;
  height: 52px;
  border-radius: 16px;
  object-fit: contain;
  background: rgba(255,255,255,.06);
  padding: 6px;
  border: 1px solid rgba(255,255,255,.10);
}

.footer-logo-text h2{
  margin: 0 0 6px;
  font-size: 1.2rem;
}

.footer-brand-tagline{
  margin: 0;
  color: rgba(255,255,255,.68);
  font-size: .92rem;
}

.footer-lapzone-brand{
  color: rgba(57,255,154,.92);
  font-weight: 1000;
}

.footer-about p{
  margin: 0 0 12px;
  color: rgba(255,255,255,.72);
  line-height: 1.75;
}

.footer-title{
  margin: 0 0 12px;
  font-size: 1.05rem;
}

.footer-links{
  display: grid;
  gap: 10px;
}

.footer-links a{
  color: rgba(255,255,255,.74);
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid transparent;
  transition: background var(--t-fast) var(--ease), border-color var(--t-fast) var(--ease);
}

.footer-links a:hover{
  background: rgba(255,255,255,.06);
  border-color: rgba(57,255,154,.18);
}

.contact-info{
  display: grid;
  gap: 10px;
}
.contact-info li{
  display: flex;
  gap: 10px;
  align-items: flex-start;
  color: rgba(255,255,255,.74);
}
.contact-info i{
  color: rgba(57,255,154,.88);
  margin-top: 3px;
}

.social-links{
  display: flex;
  gap: 10px;
  margin-top: 8px;
}

.social-link{
  width: 44px;
  height: 44px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  transition: transform var(--t-fast) var(--ease),
              background var(--t-fast) var(--ease),
              border-color var(--t-fast) var(--ease);
}
.social-link:hover{
  transform: translateY(-2px);
  background: rgba(21,193,111,.12);
  border-color: rgba(57,255,154,.22);
}

.footer-bottom{
  border-top: 1px solid rgba(255,255,255,.10);
  padding: 14px 0;
  background: rgba(255,255,255,.02);
}
.footer-bottom p{
  margin: 0;
  color: rgba(255,255,255,.66);
  text-align: center;
  font-size: .92rem;
}
.developer-link{
  color: rgba(15,181,255,.85);
  font-weight: 900;
}
.developer-link:hover{
  text-decoration: underline;
}

/* =========================
   22) FAQ Section
   ========================= */
.faq-section{
  padding: 50px 0 70px;
}

.faq-container{
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: 0 18px 70px rgba(0,0,0,.30);
  overflow: hidden;
}

.faq-title{
  margin: 0;
  padding: 18px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  font-size: 1.3rem;
}

.faq-list{
  padding: 10px 14px 16px;
  display: grid;
  gap: 12px;
}

.faq-item{
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  overflow: hidden;
  transition: border-color var(--t-fast) var(--ease), background var(--t-fast) var(--ease);
}

.faq-item:hover{
  border-color: rgba(57,255,154,.18);
  background: rgba(255,255,255,.04);
}

.faq-question{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  padding: 14px;
  cursor: pointer;
}

.faq-question h3{
  margin: 0;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 1rem;
}

.faq-question h3 i{
  color: rgba(57,255,154,.88);
}

.faq-question .fa-chevron-down{
  transition: transform var(--t-mid) var(--ease);
  color: rgba(255,255,255,.70);
}

.faq-answer{
  max-height: 0;
  overflow: hidden;
  transition: max-height var(--t-slow) var(--ease);
  padding: 0 14px;
}
.faq-answer p{
  margin: 0;
  padding: 0 0 14px;
  color: rgba(255,255,255,.74);
  line-height: 1.75;
}

.faq-item.active .faq-answer{
  max-height: 340px;
}
.faq-item.active .faq-question .fa-chevron-down{
  transform: rotate(180deg);
}

/* =========================
   23) Popups (Order Confirmation + Policy)
   ========================= */
.order-confirmation-popup{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: grid;
  place-items: center;
  z-index: 1500;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--t-mid) var(--ease);
  padding: 18px;
}
.order-confirmation-popup.active{
  opacity: 1;
  pointer-events: auto;
}

.order-confirmation-content{
  width: min(720px, 100%);
  border-radius: 28px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(12,17,22,.92);
  box-shadow: var(--shadow-lg);
  padding: 18px;
  position: relative;
  animation: popIn .5s var(--ease) both;
}
@keyframes popIn{
  from{ transform: translateY(16px) scale(.98); opacity: .6; }
  to{ transform: translateY(0) scale(1); opacity: 1; }
}

.close-popup{
  position: absolute;
  left: 14px;
  top: 14px;
  width: 44px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  cursor: pointer;
}
.close-popup:hover{
  background: rgba(255,59,59,.10);
}

.confirmation-icon{
  width: 78px;
  height: 78px;
  border-radius: 26px;
  display: grid;
  place-items: center;
  margin: 10px auto 8px;
  background: rgba(21,193,111,.14);
  border: 1px solid rgba(57,255,154,.18);
  color: rgba(57,255,154,.92);
}
.confirmation-icon i{ font-size: 2.2rem; }

.confirmation-title{
  margin: 0;
  text-align: center;
  font-size: 1.5rem;
}
.confirmation-subtitle{
  margin: 10px 0 14px;
  text-align: center;
  color: rgba(255,255,255,.74);
}

.order-details-card{
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  padding: 14px;
  display: grid;
  gap: 10px;
  margin-bottom: 12px;
}

.order-detail{
  display: flex;
  justify-content: space-between;
  gap: 10px;
  color: rgba(255,255,255,.78);
}
.order-detail-label{ font-weight: 900; }
.order-detail-value{ color: rgba(255,255,255,.92); }

.order-total{
  display: flex;
  justify-content: space-between;
  gap: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,.10);
  font-weight: 1000;
}

.confirmation-actions{
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 12px;
}

/* Policy popup */
.policy-page{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: grid;
  place-items: center;
  z-index: 1550;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--t-mid) var(--ease);
  padding: 18px;
}
.policy-page.active{
  opacity: 1;
  pointer-events: auto;
}

.policy-container{
  width: min(860px, 100%);
  border-radius: 28px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(12,17,22,.92);
  box-shadow: var(--shadow-lg);
  padding: 18px;
  position: relative;
  max-height: 86vh;
  overflow: auto;
}

.close-policy{
  position: absolute;
  left: 14px;
  top: 14px;
  width: 44px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  cursor: pointer;
}
.close-policy:hover{ background: rgba(255,59,59,.10); }

.policy-title{
  margin: 6px 0 14px;
  font-size: 1.35rem;
}

.policy-content{
  color: rgba(255,255,255,.76);
  line-height: 1.8;
}
.policy-content h2,
.policy-content h3{
  color: rgba(255,255,255,.92);
}
.policy-content ul{
  list-style: disc;
  padding-right: 20px;
}
.policy-content li{
  margin: 6px 0;
}

/* =========================
   24) Notification (toast)
   ========================= */
.notification{
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 1600;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity var(--t-mid) var(--ease), transform var(--t-mid) var(--ease);
}
.notification.show{
  opacity: 1;
  transform: translateY(0);
}
.notification-content{
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(12,17,22,.92);
  box-shadow: 0 18px 70px rgba(0,0,0,.45);
  color: rgba(255,255,255,.92);
}
.notification-content i{
  color: rgba(57,255,154,.92);
}

/* =========================
   25) Responsive Breakpoints
   ========================= */

/* <= 1280px */
@media (max-width: 1280px){
  .categories{ grid-template-columns: repeat(4, minmax(0,1fr)); }
  .products-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* <= 1024px */
@media (max-width: 1024px){
  .header-search-container{ display: none; }
  .nav-buttons{ display: flex; }

  .product-detail-wrapper{
    grid-template-columns: 1fr;
  }
  .main-image{ height: 380px; }

  .trust-items{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .footer-container{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* <= 992px */
@media (max-width: 992px){
  .showcase-slide{
    flex-basis: calc((100% - 2rem) / 2);
  }
  .checkout-container{
    grid-template-columns: 1fr;
  }
}

/* <= 768px */
@media (max-width: 768px){
  .header-container{
    padding: 12px 0;
  }

  /* Mobile Menu behavior */
  #main-menu{
    position: fixed;
    top: 72px;
    right: 12px;
    left: 12px;
    display: grid;
    gap: 8px;
    padding: 12px;
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(12,17,22,.95);
    box-shadow: var(--shadow-lg);
    transform: translateY(-10px);
    opacity: 0;
    pointer-events: none;
    transition: opacity var(--t-mid) var(--ease),
                transform var(--t-mid) var(--ease);
  }

  #main-nav.show #main-menu{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  #main-menu a{
    justify-content: space-between;
    padding: 12px 14px;
    border-radius: 18px;
    background: rgba(255,255,255,.03);
    border-color: rgba(255,255,255,.08);
  }

  /* Mobile search dropdown container */
  .header-search-container.active{
    position: fixed;
    top: 72px;
    right: 12px;
    left: 12px;
    display: flex;
    justify-content: center;
    z-index: 1100;
  }
  .header-search-container.active .search-box{
    width: 100%;
  }

  .hero{
    padding: 54px 0 34px;
  }
  .hero-btns{
    flex-direction: column;
    align-items: stretch;
  }

  .showcase-frame{
    padding: 16px 12px 18px;
  }
  .showcase-slide{
    flex-basis: 100%;
  }
  .showcase-prev, .showcase-next{
    width: 42px; height: 42px; border-radius: 16px;
  }

  .categories{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .products-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }

  .form-row{ grid-template-columns: 1fr; }

  .specs-grid{ grid-template-columns: 1fr; }

  .trust-items{ grid-template-columns: 1fr; }
  .footer-container{ grid-template-columns: 1fr; }

  .floating-buttons{
    left: 12px;
    bottom: 12px;
  }
}

/* <= 576px */
@media (max-width: 576px){
  .logo{ min-width: unset; }
  .logo img{ width: 44px; height: 44px; }

  .products-grid{ grid-template-columns: 1fr; }

  .cart-item{
    grid-template-columns: 68px 1fr;
  }
  .cart-item-img{
    width: 68px; height: 68px;
  }

  .action-buttons{
    grid-template-columns: 1fr;
  }
  .wishlist-btn{
    width: 100%;
    height: 48px;
  }
}

/* =========================
   26) Optional: Light section tuning
   (For .bg-light blocks - keep text readable)
   ========================= */
.bg-light{
  color: rgba(255,255,255,.92);
}

/* If you ever want a true light mode for a section, apply a wrapper class in HTML:
   <section class="bg-light light-section"> ... </section>
*/
.light-section{
  background: linear-gradient(180deg, var(--light-bg), #ffffff);
  color: var(--light-text);
}
.light-section .section-title p,
.light-section p{
  color: var(--light-muted);
}

/* =========================================================
   End of Premium CSS
   ========================================================= */
/* =========================================================
   EXTRA: Header Upgrade (Logo + Store Name + Developer line)
   + Hero Background Image Layer
   ========================================================= */

/* ---------- Header: more premium look ---------- */
header{
  background: rgba(8,12,16,.62);
  border-bottom: 1px solid rgba(255,255,255,.10);
}

header::before{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(900px 420px at 15% 0%, rgba(21,193,111,.18), rgba(21,193,111,0) 55%),
    radial-gradient(900px 520px at 90% 10%, rgba(15,181,255,.12), rgba(15,181,255,0) 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
  pointer-events:none;
}

/* keeps header content above gradients */
.header-container{ position: relative; }

/* Logo block upgrade */
.logo{
  gap: 14px;
}

.logo img{
  width: 54px;
  height: 54px;
  border-radius: 18px;
  padding: 7px;
  border: 1px solid rgba(57,255,154,.20);
  background:
    radial-gradient(120px 120px at 30% 20%, rgba(57,255,154,.16), rgba(0,0,0,0) 55%),
    rgba(255,255,255,.05);
  box-shadow:
    0 18px 55px rgba(0,0,0,.45),
    0 0 0 6px rgba(21,193,111,.07);
  transition: transform 220ms cubic-bezier(.2,.8,.2,1),
              box-shadow 220ms cubic-bezier(.2,.8,.2,1),
              border-color 220ms cubic-bezier(.2,.8,.2,1);
}

.logo:hover img{
  transform: translateY(-2px);
  border-color: rgba(57,255,154,.35);
  box-shadow:
    0 22px 70px rgba(0,0,0,.55),
    0 0 0 8px rgba(21,193,111,.09);
}

/* Store name + developer text polish */
.logo-text h1{
  font-size: 1.12rem;
  font-weight: 1000;
  letter-spacing: .2px;
  margin: 0;
  line-height: 1.2;
  color: rgba(255,255,255,.96);
  text-shadow: 0 10px 35px rgba(0,0,0,.35);
}

.logo-text h1::after{
  content:"";
  display:block;
  width: 64px;
  height: 2px;
  margin-top: 6px;
  border-radius: 2px;
  background: linear-gradient(90deg, rgba(57,255,154,.95), rgba(15,181,255,.55));
  opacity: .9;
}

.lapzone-brand{
  margin-top: 6px;
  font-size: .84rem;
  font-weight: 900;
  color: rgba(255,255,255,.72);
  letter-spacing: .2px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.lapzone-brand::before{
  content:"⚡";
  color: rgba(57,255,154,.92);
  filter: drop-shadow(0 0 16px rgba(57,255,154,.25));
}

.lapzone-brand strong{
  color: rgba(57,255,154,.92);
}

/* Optional: if your HTML has "Developed by Ahmed Sharif" as plain text
   you can wrap your name with <strong>Ahmed Sharif</strong> to highlight it.
*/

/* Nav links feel tighter */
#main-menu a{
  font-weight: 900;
  letter-spacing: .15px;
}

/* ---------- HERO with background image layer ---------- */
/* Set the image from CSS (easy). Replace URL with your image */
.hero{
  position: relative;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* Background image */
.hero::before{
  content:"";
  position:absolute;
  inset: 0;
  background-image:
    linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.30) 55%, rgba(0,0,0,.75)),
    url("https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1920&q=80");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: scale(1.02);
  filter: saturate(1.05) contrast(1.05);
  z-index: 0;
}

/* glow overlay */
.hero::after{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(900px 520px at 20% 20%, rgba(21,193,111,.22), rgba(21,193,111,0) 60%),
    radial-gradient(800px 520px at 85% 25%, rgba(15,181,255,.16), rgba(15,181,255,0) 60%);
  z-index: 1;
  pointer-events:none;
}

/* ensure content is on top */
.hero .container,
.hero-content{
  position: relative;
  z-index: 2;
}

/* Make hero text more readable on image */
.hero h1{
  text-shadow: 0 18px 70px rgba(0,0,0,.55);
}

.hero p{
  text-shadow: 0 18px 60px rgba(0,0,0,.55);
  color: rgba(255,255,255,.80);
}

/* Better hero buttons contrast */
.hero .btn-outline{
  background: rgba(0,0,0,.30);
  border-color: rgba(255,255,255,.22);
}

.hero .btn-outline:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(57,255,154,.26);
}

/* ---------- Mobile tweaks ---------- */
@media (max-width: 768px){
  .logo img{
    width: 48px;
    height: 48px;
    border-radius: 16px;
  }

  .logo-text h1{
    font-size: 1.02rem;
  }

  .hero::before{
    background-position: 55% center;
  }
}
/* =========================================================
   EXTRA: Header Upgrade (Logo + Store Name + Developer line)
   + Hero Background Image Layer
   ========================================================= */

/* ---------- Header: more premium look ---------- */
header{
  background: rgba(8,12,16,.62);
  border-bottom: 1px solid rgba(255,255,255,.10);
}

header::before{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(900px 420px at 15% 0%, rgba(21,193,111,.18), rgba(21,193,111,0) 55%),
    radial-gradient(900px 520px at 90% 10%, rgba(15,181,255,.12), rgba(15,181,255,0) 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
  pointer-events:none;
}

/* keeps header content above gradients */
.header-container{ position: relative; }

/* Logo block upgrade */
.logo{
  gap: 14px;
}

.logo img{
  width: 54px;
  height: 54px;
  border-radius: 18px;
  padding: 7px;
  border: 1px solid rgba(57,255,154,.20);
  background:
    radial-gradient(120px 120px at 30% 20%, rgba(57,255,154,.16), rgba(0,0,0,0) 55%),
    rgba(255,255,255,.05);
  box-shadow:
    0 18px 55px rgba(0,0,0,.45),
    0 0 0 6px rgba(21,193,111,.07);
  transition: transform 220ms cubic-bezier(.2,.8,.2,1),
              box-shadow 220ms cubic-bezier(.2,.8,.2,1),
              border-color 220ms cubic-bezier(.2,.8,.2,1);
}

.logo:hover img{
  transform: translateY(-2px);
  border-color: rgba(57,255,154,.35);
  box-shadow:
    0 22px 70px rgba(0,0,0,.55),
    0 0 0 8px rgba(21,193,111,.09);
}

/* Store name + developer text polish */
.logo-text h1{
  font-size: 1.12rem;
  font-weight: 1000;
  letter-spacing: .2px;
  margin: 0;
  line-height: 1.2;
  color: rgba(255,255,255,.96);
  text-shadow: 0 10px 35px rgba(0,0,0,.35);
}

.logo-text h1::after{
  content:"";
  display:block;
  width: 64px;
  height: 2px;
  margin-top: 6px;
  border-radius: 2px;
  background: linear-gradient(90deg, rgba(57,255,154,.95), rgba(15,181,255,.55));
  opacity: .9;
}

.lapzone-brand{
  margin-top: 6px;
  font-size: .84rem;
  font-weight: 900;
  color: rgba(255,255,255,.72);
  letter-spacing: .2px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.lapzone-brand::before{
  content:"⚡";
  color: rgba(57,255,154,.92);
  filter: drop-shadow(0 0 16px rgba(57,255,154,.25));
}

.lapzone-brand strong{
  color: rgba(57,255,154,.92);
}

/* Optional: if your HTML has "Developed by Ahmed Sharif" as plain text
   you can wrap your name with <strong>Ahmed Sharif</strong> to highlight it.
*/

/* Nav links feel tighter */
#main-menu a{
  font-weight: 900;
  letter-spacing: .15px;
}

/* ---------- HERO with background image layer ---------- */
/* Set the image from CSS (easy). Replace URL with your image */
.hero{
  position: relative;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* Background image */
.hero::before{
  content:"";
  position:absolute;
  inset: 0;
  background-image:
    linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.30) 55%, rgba(0,0,0,.75)),
    url("https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1920&q=80");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: scale(1.02);
  filter: saturate(1.05) contrast(1.05);
  z-index: 0;
}

/* glow overlay */
.hero::after{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(900px 520px at 20% 20%, rgba(21,193,111,.22), rgba(21,193,111,0) 60%),
    radial-gradient(800px 520px at 85% 25%, rgba(15,181,255,.16), rgba(15,181,255,0) 60%);
  z-index: 1;
  pointer-events:none;
}

/* ensure content is on top */
.hero .container,
.hero-content{
  position: relative;
  z-index: 2;
}

/* Make hero text more readable on image */
.hero h1{
  text-shadow: 0 18px 70px rgba(0,0,0,.55);
}

.hero p{
  text-shadow: 0 18px 60px rgba(0,0,0,.55);
  color: rgba(255,255,255,.80);
}

/* Better hero buttons contrast */
.hero .btn-outline{
  background: rgba(0,0,0,.30);
  border-color: rgba(255,255,255,.22);
}

.hero .btn-outline:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(57,255,154,.26);
}

/* ---------- Mobile tweaks ---------- */
@media (max-width: 768px){
  .logo img{
    width: 48px;
    height: 48px;
    border-radius: 16px;
  }

  .logo-text h1{
    font-size: 1.02rem;
  }

  .hero::before{
    background-position: 55% center;
  }
}
/* ==============================
   Product Image Swap (Hover + Tap)
   ============================== */

.product-images{
  position: relative;
  overflow: hidden;
  border-radius: 16px 16px 0 0;
  height: 250px;
  background: rgba(255,255,255,0.04);
}

.product-images img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transform: scale(1.02);
  transition: opacity 280ms ease, transform 420ms ease;
  pointer-events: none; /* مهم: عشان الضغط يروح للحاوية مش للصورة */
}

/* الصورة الأولى هي الافتراضية */
.product-images img:first-child{
  opacity: 1;
  position: relative;
  transform: scale(1);
}

/* Hover على الديسكتوب فقط */
@media (hover:hover) and (pointer:fine){
  .product-card:hover .product-images img:first-child{
    opacity: 0;
    transform: scale(1.04);
  }
  .product-card:hover .product-images img:nth-child(2){
    opacity: 1;
    transform: scale(1.01);
  }
}

/* وضع التبديل بالضغط للموبايل: بنبدّل باستخدام كلاس */
.product-card.is-image-swapped .product-images img:first-child{
  opacity: 0;
  transform: scale(1.04);
}
.product-card.is-image-swapped .product-images img:nth-child(2){
  opacity: 1;
  transform: scale(1.01);
}

/* مؤشر بسيط يقول للعميل إن الصورة قابلة للتبديل */
.product-images::after{
  content: "اضغط لتبديل الصورة";
  position: absolute;
  left: 12px;
  bottom: 12px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 800;
  border-radius: 999px;
  background: rgba(0,0,0,.45);
  color: rgba(255,255,255,.9);
  opacity: 0;
  transform: translateY(6px);
  transition: 240ms ease;
  pointer-events: none;
}

@media (hover:none) and (pointer:coarse){
  .product-images::after{
    opacity: 1;
    transform: translateY(0);
  }
}
/* ==============================
   Theme system (Dark/Light)
   ============================== */

:root{
  --bg: #0b0f14;
  --card: rgba(255,255,255,0.06);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --border: rgba(255,255,255,0.12);
  --shadow: 0 18px 55px rgba(0,0,0,0.40);

  --primary: #15c16f;   /* أخضر */
  --accent: #0fb5ff;    /* أزرق */
}

/* Light theme overrides */
body.light-theme{
  --bg: #f6f8fb;
  --card: rgba(0,0,0,0.04);
  --text: rgba(0,0,0,0.86);
  --muted: rgba(0,0,0,0.62);
  --border: rgba(0,0,0,0.10);
  --shadow: 0 18px 55px rgba(0,0,0,0.12);
}

/* Apply variables (أهم أماكن في الموقع) */
body{
  background: var(--bg);
  color: var(--text);
}

header{
  border-bottom: 1px solid var(--border);
}

.product-card,
.showcase-slide,
.order-summary,
.checkout-form,
.policy-container{
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

p, .muted, .footer-brand-tagline{
  color: var(--muted);
}

/* Theme toggle button */
.theme-toggle-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 180ms ease, background 180ms ease, border-color 180ms ease;
  margin-inline-start: 8px;
}

.theme-toggle-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(21,193,111,0.35);
  background: rgba(21,193,111,0.10);
}

body.light-theme .theme-toggle-btn{
  background: rgba(0,0,0,0.04);
}
/* =========================================================
   FIX: Light Theme Color Harmony (Full Palette + Key Overrides)
   ضع الكود ده في آخر ملف CSS
   ========================================================= */

/* 1) Palette كاملة للداكن + الفاتح */
:root{
  /* Dark (افتراضي) */
  --bg: #0b0f14;
  --surface: rgba(255,255,255,0.06);
  --surface-2: rgba(255,255,255,0.09);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.72);
  --border: rgba(255,255,255,0.12);

  --primary: #15c16f;
  --primary-2: #12a85f;
  --accent: #0fb5ff;

  --shadow-sm: 0 10px 30px rgba(0,0,0,.30);
  --shadow-md: 0 18px 55px rgba(0,0,0,.40);
  --ring: 0 0 0 6px rgba(21,193,111,.10);

  --radius: 16px;
}

/* Light Theme */
body.light-theme{
  --bg: #f6f8fb;
  --surface: #ffffff;
  --surface-2: #f1f4f8;

  --text: rgba(10,18,28,0.92);
  --muted: rgba(10,18,28,0.64);
  --border: rgba(20,30,40,0.12);

  /* نفس الهوية لكن بدرجات أنعم */
  --primary: #13b564;
  --primary-2: #0f9b55;
  --accent: #1489ff;

  --shadow-sm: 0 10px 30px rgba(16,24,40,.10);
  --shadow-md: 0 18px 55px rgba(16,24,40,.14);
  --ring: 0 0 0 6px rgba(19,181,100,.14);
}

/* 2) تطبيق المتغيرات على الأساسيات */
body{
  background: var(--bg);
  color: var(--text);
}

/* نصوص عامة */
p, .footer-brand-tagline, .breadcrumb, .whatsapp-note,
.search-result-category, .search-empty p{
  color: var(--muted);
}

/* 3) الكروت/السطوح (مهم جداً لعدم التنافر) */
.product-card,
.showcase-slide,
.order-summary,
.checkout-form,
.policy-container,
.faq-item,
.cart-item,
.shopping-cart,
.order-details-card{
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-md);
  border-radius: var(--radius);
}

/* 4) الهيدر في الوضع الفاتح (مشكلة تنافر شائعة) */
header{
  background: rgba(8,12,16,.62);
  border-bottom: 1px solid var(--border);
}
body.light-theme header{
  background: rgba(255,255,255,.82);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* خطوط وأيقونات الهيدر */
body.light-theme header,
body.light-theme #main-menu a,
body.light-theme .logo-text h1,
body.light-theme .lapzone-brand{
  color: var(--text) !important;
}

/* روابط المينيو */
#main-menu a{
  color: var(--text);
}
#main-menu a.active{
  color: var(--primary);
}

/* 5) زر الثيم يكون مناسب للفاتح */
.theme-toggle-btn{
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  box-shadow: var(--shadow-sm);
}
body.light-theme .theme-toggle-btn{
  background: rgba(16,24,40,0.04);
}

/* 6) Search box في الهيدر (غالباً سبب التنافر) */
.search-box{
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
  border-radius: 999px;
}
body.light-theme .search-box{
  background: #ffffff;
}

.search-input{
  color: var(--text);
}
.search-input::placeholder{
  color: var(--muted);
}

.search-results{
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-md);
}
.search-result-item:hover{
  background: var(--surface-2);
}

/* 7) أزرار الموقع (خليهم متناسقين) */
.btn{
  border-radius: 14px;
}
.btn-primary{
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  border: 1px solid rgba(0,0,0,0.0);
  color: #fff;
  box-shadow: var(--shadow-sm);
}
.btn-primary:hover{
  filter: brightness(1.02);
  transform: translateY(-1px);
}

.btn-outline{
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
}
.btn-outline:hover{
  background: var(--surface-2);
}

/* 8) Hero: في الوضع الفاتح خفف التغميق وإلا الشكل يبقى “مكركب” */
.hero::before{
  /* تقدر تسيب الصورة زي ما هي، بس توازن الطبقة */
  filter: saturate(1.05) contrast(1.05);
}
body.light-theme .hero::before{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.35) 55%, rgba(255,255,255,.86)),
    url("https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1920&q=80");
}
body.light-theme .hero p{
  color: rgba(10,18,28,.70);
}
body.light-theme .hero h1{
  text-shadow: 0 18px 55px rgba(16,24,40,.18);
}

/* 9) شريط الثقة والفوتر في الوضع الفاتح */
.trust-bar,
.footer{
  border-top: 1px solid var(--border);
}
body.light-theme .trust-bar{
  background: rgba(255,255,255,.72);
}
body.light-theme .footer{
  background: #ffffff;
}

/* 10) أيقونات FontAwesome: خليها داكنة في الفاتح */
body.light-theme i.fas,
body.light-theme i.fab,
body.light-theme i.far{
  color: inherit;
}
/* =========================================================
   UPGRADE: Category Cards (Home Page)
   تحسين شكل كروت الأقسام في الصفحة الرئيسية
   ========================================================= */

.categories{
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 22px;
}

@media (max-width: 1280px){
  .categories{ grid-template-columns: repeat(4, 1fr); }
}
@media (max-width: 1024px){
  .categories{ grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 768px){
  .categories{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 480px){
  .categories{ grid-template-columns: 1fr; }
}

/* الكارت الأساسي */
.category-card{
  position: relative;
  overflow: hidden;
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
    0 18px 55px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.10);
  cursor: pointer;
  transform: translateZ(0);
  transition:
    transform .35s cubic-bezier(.2,.8,.2,1),
    box-shadow .35s cubic-bezier(.2,.8,.2,1),
    border-color .35s cubic-bezier(.2,.8,.2,1);
}

/* طبقة Glow خفيفة */
.category-card::before{
  content:"";
  position:absolute;
  inset:-1px;
  background:
    radial-gradient(220px 140px at 15% 10%, rgba(21,193,111,.25), rgba(21,193,111,0) 60%),
    radial-gradient(260px 180px at 85% 0%, rgba(15,181,255,.18), rgba(15,181,255,0) 60%);
  opacity: .65;
  pointer-events:none;
  transition: opacity .35s ease;
}

/* الصورة */
.category-img{
  position: relative;
  height: 190px;
  overflow: hidden;
}

.category-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.04);
  transition: transform .6s cubic-bezier(.2,.8,.2,1), filter .6s ease;
  filter: saturate(1.05) contrast(1.05);
}

/* Overlay متدرج على الصورة */
.category-img::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55));
  opacity: .75;
  transition: opacity .35s ease;
}

/* محتوى الكارت */
.category-content{
  position: relative;
  padding: 16px 16px 18px;
  z-index: 1;
}

.category-content h3{
  font-size: 1.05rem;
  font-weight: 1000;
  margin: 0 0 6px 0;
  letter-spacing: .3px;
}

.category-content p{
  font-size: .88rem;
  opacity: .85;
  margin: 0;
  line-height: 1.5;
}

/* زر تسوق الآن داخل الكارت */
.category-actions{
  padding: 0 16px 16px;
}

.category-shop-btn{
  width: 100%;
  border-radius: 14px;
  padding: 12px 14px;
  font-weight: 900;
  letter-spacing: .3px;
  transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
}

.category-shop-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 30px rgba(0,0,0,.25);
  filter: brightness(1.02);
}

/* Hover / Focus */
@media (hover:hover) and (pointer:fine){
  .category-card:hover{
    transform: translateY(-6px);
    border-color: rgba(21,193,111,.35);
    box-shadow:
      0 28px 90px rgba(0,0,0,.55),
      0 0 0 8px rgba(21,193,111,.08);
  }

  .category-card:hover::before{
    opacity: .95;
  }

  .category-card:hover .category-img img{
    transform: scale(1.12);
    filter: saturate(1.12) contrast(1.08);
  }

  .category-card:hover .category-img::after{
    opacity: .9;
  }
}

/* بادج الخصم (لو موجود) */
.category-img .offer-badge{
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  color: #fff;
  background: linear-gradient(135deg, #ff5a5f, #ff8a00);
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
}

/* دعم اللمس للموبايل: لمسة لطيفة */
@media (hover:none) and (pointer:coarse){
  .category-card:active{
    transform: scale(.98);
  }
}
/* =========================================================
   Product Detail: Price Highlight Card
   تحسين شكل سعر المنتج داخل إطار جذاب
   ========================================================= */

/* الحاوية اللي فيها السعر */
.product-detail-price-container{
  margin: 18px 0 16px;
  padding: 14px;
  border-radius: 18px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow:
    0 14px 40px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.12);
}

/* صف السعر نفسه */
.product-detail-price{
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

/* السعر الحالي */
.detail-current-price{
  font-size: 1.9rem;
  font-weight: 1000;
  letter-spacing: .4px;
  line-height: 1.1;
  padding: 10px 16px;
  border-radius: 14px;
  color: #0b1a12;
  background: linear-gradient(135deg, #15c16f, #0fb5ff);
  box-shadow:
    0 10px 30px rgba(0,0,0,.35),
    0 0 0 6px rgba(21,193,111,.12);
}

/* السعر القديم (لو في خصم) */
.detail-original-price{
  font-size: 1rem;
  text-decoration: line-through;
  opacity: .7;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px dashed rgba(255,255,255,.22);
}

/* نسبة الخصم */
.detail-discount{
  font-size: .9rem;
  font-weight: 900;
  padding: 6px 10px;
  border-radius: 999px;
  color: #fff;
  background: linear-gradient(135deg, #ff5a5f, #ff8a00);
  box-shadow: 0 6px 20px rgba(0,0,0,.35);
}

/* لو عندك badge خصم منفصل */
.product-detail-price-container .badge{
  margin-inline-start: auto;
}

/* تحسين مظهر السعر في الوضع الفاتح */
body.light-theme .product-detail-price-container{
  background: #ffffff;
  border: 1px solid rgba(16,24,40,.12);
  box-shadow: 0 18px 55px rgba(16,24,40,.14);
}

body.light-theme .detail-current-price{
  color: #062417;
  box-shadow:
    0 10px 30px rgba(16,24,40,.14),
    0 0 0 6px rgba(19,181,100,.14);
}

body.light-theme .detail-original-price{
  background: #f1f4f8;
  border-color: rgba(16,24,40,.18);
}
@keyframes pricePop {
  from { transform: translateY(6px) scale(.98); opacity: .0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

.product-detail-price-container{
  animation: pricePop .6s ease both;
}
/* =========================================================
   Category Page Product Cards: Price Box (Not Floating)
   يجعل السعر داخل إطار/Badge جذاب داخل كارت القسم
   ========================================================= */

/* تأكيد ترتيب عناصر الكارت بشكل ثابت */
.product-card{
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* خلي معلومات المنتج تتمد لأسفل عشان الأزرار تفضل تحت */
.product-info{
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 16px;
}

/* عنوان ووصف مختصرين (اختياري) */
.product-info h3{
  margin: 0;
  line-height: 1.3;
  font-weight: 1000;
}

.product-info p{
  margin: 0;
  opacity: .85;
  line-height: 1.55;
}

/* حاوية السعر: بقت Card صغيرة */
.product-price{
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;

  padding: 12px 12px;
  border-radius: 16px;

  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 10px 28px rgba(0,0,0,.25);

  /* ده بيمنع إحساس "عايم" وبيخليه جزء واضح من الكارت */
  margin-top: 6px;
}

/* السعر الحالي داخل Badge متلون */
.current-price{
  font-size: 1.15rem;
  font-weight: 1000;
  padding: 8px 12px;
  border-radius: 14px;
  color: #071a12;
  background: linear-gradient(135deg, #15c16f, #0fb5ff);
  box-shadow: 0 10px 24px rgba(0,0,0,.25), 0 0 0 6px rgba(21,193,111,.10);
  letter-spacing: .2px;
}

/* السعر القديم (لو موجود) */
.original-price{
  font-size: .95rem;
  font-weight: 900;
  opacity: .75;
  text-decoration: line-through;

  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px dashed rgba(255,255,255,.22);
}

/* عشان الأزرار تفضل تحت بشكل مرتب */
.product-actions{
  margin-top: 6px;
}

/* زر add-to-cart تحت كله */
.add-to-cart-btn{
  margin-top: 10px;
}

/* ==========================
   Light Theme compatibility
   ========================== */
body.light-theme .product-price{
  background: #ffffff;
  border: 1px solid rgba(16,24,40,.12);
  box-shadow: 0 14px 40px rgba(16,24,40,.12);
}

body.light-theme .original-price{
  background: #f1f4f8;
  border-color: rgba(16,24,40,.18);
}

body.light-theme .current-price{
  color: #062417;
  box-shadow: 0 10px 24px rgba(16,24,40,.12), 0 0 0 6px rgba(19,181,100,.14);
}
/* =========================================================
   Header Brand Name: Bigger but Balanced
   تكبير اسم البراند في الهيدر بمقاسات مظبوطة
   ========================================================= */

/* حاوية اللوجو */
.logo{
  align-items: center;
  gap: 12px;
}

/* صورة اللوجو (متوازنة مع الاسم) */
.logo img{
  width: 48px;
  height: 48px;
  border-radius: 14px;
}

/* اسم البراند */
.logo-text h1{
  font-size: clamp(1.15rem, 1.4vw, 1.45rem); /* يكبر على الديسكتوب ويصغر على الموبايل */
  font-weight: 1000;
  letter-spacing: .4px;
  line-height: 1.1;
  margin: 0;
  white-space: nowrap; /* يمنع النزول لسطرين */
  background: linear-gradient(135deg, #15c16f, #0fb5ff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 10px 35px rgba(0,0,0,.25);
}

/* خط ديكوري تحت الاسم (خفيف) */
.logo-text h1::after{
  content: "";
  display: block;
  width: 52px;
  height: 2px;
  margin-top: 5px;
  border-radius: 2px;
  background: linear-gradient(90deg, #15c16f, #0fb5ff);
  opacity: .9;
}

/* سطر المطوّر أصغر */
.lapzone-brand{
  font-size: .75rem;
  opacity: .8;
  line-height: 1.2;
}

/* لما الهيدر يكون ضيق (موبايل) */
@media (max-width: 768px){
  .logo{
    gap: 10px;
  }

  .logo img{
    width: 42px;
    height: 42px;
  }

  .logo-text h1{
    font-size: 1.05rem; /* مقاس مظبوط للموبايل */
  }

  .logo-text h1::after{
    width: 42px;
  }
}

/* في الشاشات الصغيرة جدًا */
@media (max-width: 360px){
  .logo-text h1{
    font-size: .98rem;
    letter-spacing: .2px;
  }
}
/* =========================
   FIX: Select / Options text invisible
   (Checkout Governorate Dropdown)
   ADD ONLY - put at end of CSS
========================= */

/* Base select style */
.checkout-form select,
.form-control select,
select.form-control,
select {
  background-color: #ffffff !important;
  color: #212121 !important;            /* نص غامق */
  border: 1px solid var(--gray-light, #ccc) !important;
  border-radius: var(--radius-md, 8px);
  padding: 0.75rem 1rem;
  appearance: auto;
  -webkit-appearance: menulist;
  -moz-appearance: menulist;
}

/* Options inside dropdown */
select option {
  background-color: #ffffff !important; /* خلفية بيضا */
  color: #212121 !important;            /* نص غامق */
}

/* Hover/selected states (بعض المتصفحات بتحتاج ده) */
select option:hover,
select option:checked,
select option:focus {
  background-color: #e8f5e9 !important; /* أخضر فاتح */
  color: #1b5e20 !important;
}

/* Disabled placeholder (مثلاً: اختر المحافظة) */
select option:disabled {
  color: #757575 !important;
}

/* Focus state */
.checkout-form select:focus,
.form-control select:focus,
select:focus {
  outline: none;
  border-color: var(--primary-color, #2e7d32) !important;
  box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.12);
}

/* Mobile Safari / Chrome quirks */
@media (max-width: 767px) {
  select {
    background-color: #ffffff !important;
    color: #212121 !important;
  }
}
.product-detail-page .badge.badge-primary{
  display: none !important;
}
/* =========================
   Performance Tweaks (CSS Only)
========================= */

/* 1) امنع إعادة الرسم الثقيلة */
* {
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}

/* 2) خلي التحريك على GPU بدل CPU */
.showcase-track,
.product-card,
.showcase-slide,
.hero,
.image-zoom,
.floating-btn {
  will-change: transform;
  transform: translateZ(0);
}

/* 3) قلّل تأثيرات الظلال الثقيلة على الموبايل */
@media (max-width: 767px) {
  .product-card,
  .showcase-slide,
  .category-card,
  .order-summary,
  .checkout-form-container {
    box-shadow: 0 2px 6px rgba(0,0,0,0.08) !important;
  }
}

/* 4) عطّل الحركات الثقيلة لو المستخدم مفعّل تقليل الحركة */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* 5) خلي الصور أقل إعادة حساب layout */
img {
  content-visibility: auto;   /* المتصفحات الحديثة */
  contain-intrinsic-size: 300px 300px; /* يمنع قفز layout */
}

/* 6) عزل الأقسام الكبيرة لتحسين الأداء */
.showcase-featured,
.dynamic-showcase,
.products-grid,
.footer {
  contain: layout paint style;
}
/* =========================
   Header Quick Links (Nav) Enhancements
   ADD ONLY - put at end of CSS
========================= */

/* Desktop Nav */
#main-menu {
  align-items: center;
}

#main-menu li a {
  position: relative;
  padding: 10px 14px;
  border-radius: 10px;
  transition: all 0.2s ease;
  font-weight: 600;
}

/* Hover effect */
#main-menu li a:hover {
  background: rgba(46, 125, 50, 0.08); /* أخضر فاتح شفاف */
  color: var(--primary-color);
}

/* Active link */
#main-menu li a.active {
  background: var(--primary-extra-light);
  color: var(--primary-dark);
}

/* Active indicator bar */
#main-menu li a.active::after {
  content: '';
  position: absolute;
  inset-inline: 10px;
  bottom: 4px;
  height: 3px;
  background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
  border-radius: 999px;
}

/* Add small icon spacing if any */
#main-menu li a i {
  margin-inline-end: 6px;
  font-size: 0.9em;
  opacity: 0.85;
}

/* =========================
   Mobile Menu Styling
========================= */

@media (max-width: 991px) {
  #main-menu {
    padding: 16px 12px !important;
    border-top-left-radius: 16px;
    border-bottom-left-radius: 16px;
  }

  #main-menu li {
    margin-bottom: 6px;
  }

  #main-menu li a {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 14px;
    border-radius: 12px;
    font-size: 1rem;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  }

  #main-menu li a:hover {
    background: var(--primary-extra-light);
  }

  /* Active state on mobile */
  #main-menu li a.active {
    background: linear-gradient(135deg, var(--primary-extra-light), #ffffff);
    color: var(--primary-dark);
  }

  #main-menu li a.active::after {
    display: none; /* شيل الشريط الصغير في الموبايل */
  }
}
#main-menu li:first-child a {
  background: linear-gradient(135deg, rgba(255,152,0,0.15), rgba(46,125,50,0.12));
  border: 1px dashed rgba(46,125,50,0.25);
}
/* =========================
   FIX: Mobile Menu items appear blank (white boxes)
   ADD ONLY - put at end of CSS
========================= */

@media (max-width: 991px) {

  /* Menu panel background */
  #main-menu{
    background: rgba(8, 18, 14, 0.92) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-left: 1px solid rgba(255,255,255,0.08);
  }

  /* Links look like cards + visible text */
  #main-menu li a{
    background: rgba(255,255,255,0.08) !important;
    border: 1px solid rgba(255,255,255,0.10);
    color: #ffffff !important;
    border-radius: 14px;
    padding: 14px 16px !important;
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    text-decoration: none !important;
    font-weight: 700;
    line-height: 1.2;
  }

  /* Force any inner elements (span, i, svg) to inherit color */
  #main-menu li a *{
    color: inherit !important;
    fill: currentColor !important;
  }

  /* Hover/active */
  #main-menu li a:hover{
    background: rgba(76,175,80,0.18) !important;
    border-color: rgba(76,175,80,0.25);
  }

  #main-menu li a.active{
    background: rgba(46,125,50,0.30) !important;
    border-color: rgba(46,125,50,0.35);
  }
}
/* Fix: Shopping Cart transparency on mobile */
@media (max-width: 991px) {
  .shopping-cart {
    background-color: #ffffff !important; /* خليها بيضاء واضحة */
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    opacity: 1 !important;
  }

  .cart-header,
  .cart-body,
  .cart-footer {
    background-color: #ffffff !important;
  }
}
@media (max-width: 991px) {
  body,
  main,
  .container {
    backdrop-filter: none !important;
  }
}
@media (max-width: 991px) {
  .shopping-cart {
    box-shadow: 0 -10px 30px rgba(0,0,0,.25);
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
  }
}
/* Fix: Text color inside shopping cart (empty state) */
.shopping-cart,
.shopping-cart * {
  color: #212121; /* لون داكن للنص */
}

/* تأكيد ألوان العناصر المهمة */
.shopping-cart .cart-title,
.shopping-cart .cart-empty h3,
.shopping-cart .cart-empty p {
  color: #212121 !important;
}

/* أيقونة السلة الفارغة */
.shopping-cart .cart-empty i {
  color: #9e9e9e !important;
}

/* زر مواصلة التسوق */
.shopping-cart .cart-empty .btn {
  color: #ffffff; /* لو الزر Primary */
}
/* ===== Fix Shopping Cart Background & Text (Desktop + Mobile) ===== */

/* الوضع الطبيعي (Desktop) */
.shopping-cart {
  background-color: #ffffff !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  opacity: 1 !important;
}

/* نصوص السلة */
.shopping-cart,
.shopping-cart * {
  color: #212121 !important;
}

.shopping-cart .cart-header {
  background-color: var(--primary-color) !important;
  color: #ffffff !important;
}

.shopping-cart .cart-empty h3,
.shopping-cart .cart-empty p {
  color: #212121 !important;
}

.shopping-cart .cart-empty i {
  color: #9e9e9e !important;
}

/* ===== تأكيد على الموبايل فقط ===== */
@media (max-width: 991px) {
  .shopping-cart {
    background-color: #ffffff !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    opacity: 1 !important;
  }
}
.shopping-cart {
  box-shadow: 0 0 30px rgba(0,0,0,.25) !important;
  border-right: 1px solid #eee;
}

</style>

</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png" alt="LAP ZONE Logo">
                <div class="logo-text">
                    <h1>العالمى ستور </h1>
                   <div class="lapzone-brand">Developed by Ahmed Sharif</div>
                </div>
            </div>
            <!-- حقل البحث للديسكتوب -->
            <div class="header-search-container" id="header-search-container">
                <div class="search-box">
                    <input type="text" class="search-input" id="search-input" placeholder="ابحث.">
                    <i class="fas fa-search search-icon"></i>
                    <div class="search-results" id="search-results"></div>
                </div>
            </div>
            
            <nav id="main-nav">
                <div class="nav-buttons">
                    <button class="mobile-search-btn" id="mobile-search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="mobile-menu-btn" id="mobile-menu-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <ul id="main-menu">
                    <li><a href="#/" class="active">الرئيسية</a></li>
                    <li><a href="#/category/offers">العروض</a></li>
                    <li><a href="#/category/new-laptops">لابات جديدة</a></li>
                    <li><a href="#/category/imported-laptops">لابات استيراد</a></li>
                    <li><a href="#/category/used-phones">هواتف مستعملة</a></li>
                    <li><a href="#/category/parts-accessories">قطع غيار</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb" id="breadcrumb" style="display: none;">
        <div class="container breadcrumb-container">
            <div class="breadcrumb-item">
                <a href="#/" id="breadcrumb-home">الرئيسية</a>
            </div>
            <span class="breadcrumb-separator" id="breadcrumb-category-separator" style="display: none;">/</span>
            <div class="breadcrumb-item" id="breadcrumb-category" style="display: none;">
                <!-- Category name will be inserted here -->
            </div>
            <span class="breadcrumb-separator" id="breadcrumb-product-separator" style="display: none;">/</span>
            <div class="breadcrumb-item active" id="breadcrumb-product" style="display: none;">
                <!-- Product name will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <main id="main-content">
        <!-- Home Page -->
        <div id="home-page">
            <!-- Hero Section -->
            <section class="hero">
                <div class="container">
                    <div class="hero-content fade-in-up">
                        <h1>مرحباً بكم فى <span class="alamy-store-text">Al Alamy Store</span> للأجهزة الالكترونية واللابتوبات</h1>
                        <p>متجر <span class="lapzone-brand">LAP ZONE</span> - وجهتك الأولى لأحدث اللابتوبات والهواتف المستعملة بجودة عالية وأسعار تنافسية</p>
                        <div class="hero-btns">
                            <a href="#/category/offers" class="btn btn-primary">تصفح العروض</a>
                            <a href="#/category/used-phones" class="btn btn-outline">استكشاف الهواتف المستعملة</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 🔥 سلايدر العروض المحوري (أول قسم بعد الهيرو) -->
            <section class="showcase-featured" id="offers-showcase">
                <div class="container showcase-container">
                    <div class="showcase-header fade-in-up">
                        <h2>
                            <i class="fas fa-fire"></i>
                            أحدث الاكسسوارات
                        </h2>
                        <p>استمتع بأفضل الاكسسوارات والتخفيضات على منتجاتنا المميزة</p>
                    </div>
                    
                    <div class="showcase-frame">
                        <div class="showcase-track" id="offers-track">
                            <!-- Offers slides will be added dynamically -->
                        </div>
                        
                        <div class="showcase-controls">
                            <button class="showcase-prev" id="offers-prev">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button class="showcase-next" id="offers-next">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                        
                        <div class="showcase-indicators" id="offers-indicators">
                            <!-- Indicators will be added dynamically -->
                        </div>
                    </div>
                    
                    <div class="text-center mt-8">
                        <a href="#/category/offers" class="btn btn-primary">
                            <i class="fas fa-shopping-bag"></i>
                            استكشف المزيد من الاكسسوارات
                        </a>
                    </div>
                </div>
            </section>

          <!-- Categories Section -->
            <section class="bg-light">
                <div class="container">
                    <div class="section-title">
                        <h2>أقسام المتجر</h2>
                        <p>اختر من بين مجموعاتنا المتميزة من اللابات والهواتف وقطع الغيار</p>
                    </div>
                    
                    <div class="categories">
                        <div class="category-card" onclick="navigateTo('/category/offers')">
                            <div class="category-img">
                                <img src="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1769127237/logo_offer_lcm41s.png" alt="العروض">
                                <div class="offer-badge">خصومات </div>
                            </div>
                            <div class="category-content">
                                <h3>اكسسوارات الموبايل </h3>
                                <p>خصومات وعروض حصرية على أفضل الاكسسوارات والهواتف</p>
                            </div>
                        </div>
                        
                        <div class="category-card fade-in-up" onclick="navigateTo('/category/new-laptops')">
                            <div class="category-img">
                                <img src="https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="لابات جديدة">
                            </div>
                            <div class="category-content">
                                <h3>لابات جديدة</h3>
                                <p>أحدث الموديلات بمواصفات رائعة وضمان مصنع</p>
                            </div>
                        </div>
                        
                        <div class="category-card fade-in-up" onclick="navigateTo('/category/imported-laptops')">
                            <div class="category-img">
                                <img src="https://images.unsplash.com/photo-1541807084-5c52b6b3adef?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="لابات استيراد">
                            </div>
                            <div class="category-content">
                                <h3>لابات استيراد</h3>
                                <p>مواصفات عالمية بأسعار مميزة وجودة عالية</p>
                            </div>
                        </div>
                        
                        <!-- قسم الهواتف المستعملة -->
                        <div class="category-card fade-in-up" onclick="navigateTo('/category/used-phones')">
                            <div class="category-img">
                                <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="هواتف مستعملة">
                            </div>
                            <div class="category-content">
                                <h3>هواتف مستعملة</h3>
                                <p>هواتف ذكية مستعملة بجودة ممتازة وأسعار مناسبة</p>
                            </div>
                        </div>
                        
                        <!-- قسم قطع الغيار -->
                        <div class="category-card fade-in-up" onclick="navigateTo('/category/parts-accessories')">
                            <div class="category-img">
                                <img src="https://images.unsplash.com/photo-1593640408182-31c70c8268f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="قطع غيار">
                            </div>
                            <div class="category-content">
                                <h3>قطع غيار</h3>
                                <p>كل ما تحتاجه لصيانة وتحديث جهازك</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 💻 سلايدر لابات الاستيراد -->
            <section class="dynamic-showcase" id="imported-showcase">
                <div class="container showcase-container">
                    <div class="showcase-header fade-in-up">
                        <h2>
                            <i class="fas fa-laptop"></i>
                            لابات استيراد
                        </h2>
                        <p>أفضل الموديلات المستوردة بجودة عالية وأسعار منافسة</p>
                    </div>
                    
                    <div class="showcase-frame">
                        <div class="showcase-track" id="imported-track">
                            <!-- Imported laptops slides will be added dynamically -->
                        </div>
                        
                        <div class="showcase-controls">
                            <button class="showcase-prev" id="imported-prev">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button class="showcase-next" id="imported-next">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                        
                        <div class="showcase-indicators" id="imported-indicators">
                            <!-- Indicators will be added dynamically -->
                        </div>
                    </div>
                    
                    <div class="text-center mt-8">
                        <a href="#/category/imported-laptops" class="btn btn-primary">
                            <i class="fas fa-globe"></i>
                            استكشف المزيد من اللابات
                        </a>
                    </div>
                </div>
            </section>

            <!-- قسم الأسئلة الشائعة (FAQ) -->
            <section class="faq-section">
                <div class="container faq-container">
                    <h2 class="faq-title fade-in-up">أسئلة شائعة</h2>
                    <div class="faq-list" id="faq-list">
                        <div class="faq-item fade-in-up">
                            <div class="faq-question">
                                <h3>
                                    <i class="fas fa-shield-alt"></i>
                                    هل يوجد ضمان على المنتجات؟
                                </h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>نعم، جميع منتجاتنا مدعومة بضمان حسب النوع والموديل:<br>
                                • اللابات الجديدة: ضمان من 1-3 سنوات حسب الموديل<br>
                                • اللابات المستوردة: ضمان 1-3 أشهر<br>
                                • الهواتف المستعملة: ضمان شهر من المحل<br>
                                • قطع الغيار: ضمان 2 أشهر إلى سنة</p>
                            </div>
                        </div>
                        
                        <div class="faq-item fade-in-up">
                            <div class="faq-question">
                                <h3>
                                    <i class="fas fa-shipping-fast"></i>
                                    هل الشحن متاح لكل المحافظات؟
                                </h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>نعم، نقدم خدمة الشحن لجميع محافظات مصر. تتراوح مدة الشحن من 24-48 ساعة للمحافظات الرئيسية، ومن 2-5 أيام لباقي المحافظات. تختلف تكلفة الشحن حسب المحافظة وتبدأ من 50 جنيهاً.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item fade-in-up">
                            <div class="faq-question">
                                <h3>
                                    <i class="fas fa-check-circle"></i>
                                    هل الأجهزة والهواتف مفحوصة قبل الشحن؟
                                </h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>نعم، جميع المنتجات تمر بفحص دقيق قبل الشحن للتأكد من:<br>
                                • سلامة المكونات الداخلية<br>
                                • جودة الشاشة والبطارية<br>
                                • عمل جميع الوظائف والمميزات<br>
                                • عدم وجود أي عيوب أو أعطال</p>
                            </div>
                        </div>
                        
                        <div class="faq-item fade-in-up">
                            <div class="faq-question">
                                <h3>
                                    <i class="fas fa-clipboard-check"></i>
                                    كيف يتم تأكيد الطلب؟
                                </h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>بعد إتمام عملية الشراء، سيتم تحويلك تلقائياً إلى واتساب لإرسال تفاصيل طلبك. فريق المبيعات سيتواصل معك خلال دقائق لتأكيد الطلب وترتيب عملية الشحن.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- باقي الصفحات كما هي بدون تغيير -->
        <!-- Category Pages -->
        <div id="category-page" style="display: none;">
            <div class="container page-content">
                <!-- Home Button - تم التعديل -->
                <a href="#/" class="home-btn" onclick="navigateTo('home'); return false;">
                    <i class="fas fa-arrow-left"></i>
                    الرجوع إلى الرئيسية
                </a>
                
                <!-- Sorting Controls -->
                <div class="sorting-controls" id="sorting-controls">
                    <span class="sorting-label">ترتيب حسب السعر:</span>
                    <div class="sorting-buttons">
                        <button class="sort-btn" onclick="sortProducts('low-to-high')">
                            <i class="fas fa-sort-amount-down-alt"></i>
                            من الأقل إلى الأعلى
                        </button>
                        <button class="sort-btn" onclick="sortProducts('high-to-low')">
                            <i class="fas fa-sort-amount-down"></i>
                            من الأعلى إلى الأقل
                        </button>
                        <button class="sort-btn active" onclick="sortProducts('default')">
                            <i class="fas fa-sort"></i>
                            الافتراضي
                        </button>
                    </div>
                </div>
                
                <div class="products-grid" id="products-grid">
                    <!-- Products will be loaded here dynamically -->
                </div>
            </div>
        </div>

        <!-- Product Detail Page -->
        <div id="product-detail-page" style="display: none;">
            <div class="container product-detail-page">
                <!-- Home Button - تم التعديل -->
                <a href="#" class="home-btn" id="product-home-btn" onclick="goBackToCategory(); return false;">
                    <i class="fas fa-arrow-left"></i>
                    الرجوع إلى القسم
                </a>
                
                <div class="product-detail-container" id="product-detail-container">
                    <!-- Product detail will be loaded here dynamically -->
                </div>
            </div>
        </div>

        <!-- Checkout Section -->
        <section class="checkout-section" id="checkout-section">
            <div class="container">
                <!-- Home Button -->
                <a href="#/" class="home-btn" onclick="navigateTo('home'); return false;">
                    <i class="fas fa-arrow-left"></i>
                    الرجوع إلى الرئيسية
                </a>
                
                <div class="checkout-container">
                    <div class="checkout-form-container">
                        <div class="checkout-steps">
                            <div class="checkout-step active">1. معلومات العميل</div>
                            <div class="checkout-step">2. تأكيد الطلب</div>
                        </div>
                        
                        <div class="checkout-form">
                            <h3 class="form-title">معلومات العميل</h3>
                            <form id="order-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="first-name" class="form-label">الاسم الأول *</label>
                                        <input type="text" id="first-name" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="last-name" class="form-label">الاسم الأخير *</label>
                                        <input type="text" id="last-name" class="form-control" required>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="phone" class="form-label">رقم الهاتف الأساسي *</label>
                                    <input type="tel" id="phone" class="form-control" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="phone2" class="form-label">رقم هاتف بديل (اختياري)</label>
                                    <input type="tel" id="phone2" class="form-control">
                                </div>
                                
                                <div class="form-group">
                                    <label for="governorate" class="form-label">المحافظة *</label>
                                    <select id="governorate" class="form-control" required onchange="updateShippingCost()">
                                        <option value="">اختر المحافظة</option>
                                        <option value="القاهرة" data-shipping="50">القاهرة - 50 ج.م</option>
                                        <option value="الجيزة" data-shipping="75">الجيزة - 75 ج.م</option>
                                        <option value="الشرقية" data-shipping="50">الشرقية - 50 ج.م</option>
                                        <option value="قليوبية" data-shipping="50">قليوبية - 50 ج.م</option>
                                        <option value="بنها" data-shipping="50">بنها - 50 ج.م</option>
                                        <option value="البحيرة" data-shipping="75">البحيرة - 75 ج.م</option>
                                        <option value="الإسكندرية" data-shipping="75">الإسكندرية - 75 ج.م</option>
                                        <option value="الإسماعيلية" data-shipping="50">الإسماعيلية - 50 ج.م</option>
                                        <option value="الدقهلية" data-shipping="75">الدقهلية - 75 ج.م</option>
                                        <option value="دمياط" data-shipping="100">دمياط - 100 ج.م</option>
                                        <option value="بورسعيد" data-shipping="100">بورسعيد - 100 ج.م</option>
                                        <option value="السويس" data-shipping="60">السويس - 60 ج.م</option>
                                        <option value="شمال سيناء" data-shipping="125">شمال سيناء - 125 ج.م</option>
                                        <option value="جنوب سيناء" data-shipping="125">جنوب سيناء - 125 ج.م</option>
                                        <option value="المنوفية" data-shipping="50">المنوفية - 50 ج.م</option>
                                        <option value="الغربية" data-shipping="75">الغربية - 75 ج.م</option>
                                        <option value="كفر الشيخ" data-shipping="75">كفر الشيخ - 75 ج.م</option>
                                        <option value="الفيوم" data-shipping="150">الفيوم - 150 ج.م</option>
                                        <option value="بني سويف" data-shipping="150">بني سويف - 150 ج.م</option>
                                        <option value="المنيا" data-shipping="150">المنيا - 150 ج.م</option>
                                        <option value="أسيوط" data-shipping="150">أسيوط - 150 ج.م</option>
                                        <option value="سوهاج" data-shipping="150">سوهاج - 150 ج.م</option>
                                        <option value="قنا" data-shipping="150">قنا - 150 ج.م</option>
                                        <option value="الأقصر" data-shipping="150">الأقصر - 150 ج.م</option>
                                        <option value="أسوان" data-shipping="150">أسوان - 150 ج.م</option>
                                        <option value="البحر الأحمر" data-shipping="150">البحر الأحمر - 150 ج.م</option>
                                        <option value="الوادي الجديد" data-shipping="150">الوادي الجديد - 150 ج.م</option>
                                        <option value="مطروح" data-shipping="125">مطروح - 125 ج.م</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="area" class="form-label">المنطقة/المدينة *</label>
                                    <input type="text" id="area" class="form-control" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="address" class="form-label">العنوان التفصيلي *</label>
                                    <textarea id="address" class="form-control" rows="3" required placeholder="الشارع - الحي - رقم المنزل - أي تفاصيل أخرى"></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notes" class="form-label">ملاحظات إضافية</label>
                                    <textarea id="notes" class="form-control" rows="4" placeholder="أي تعليمات خاصة لطلبك..."></textarea>
                                </div>
                                
                                <div class="whatsapp-note" id="whatsapp-note">
                                    <i class="fab fa-whatsapp"></i>
                                    بعد تأكيد الطلب، سيتم تحويلك تلقائياً إلى واتساب لإرسال تفاصيل طلبك.
                                </div>
                                
                                <div class="form-footer">
                                    <a href="#" class="back-to-cart" onclick="event.preventDefault(); toggleCart();"><i class="fas fa-arrow-left"></i> العودة للسلة</a>
                                    <button type="button" class="btn btn-primary submit-order-btn" onclick="submitOrder()">تأكيد الطلب وإرساله على واتساب</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="checkout-summary">
                        <div class="order-summary">
                            <h3 class="summary-title">ملخص الطلب</h3>
                            <div class="summary-items" id="summary-items">
                                <!-- Cart items will be loaded here dynamically -->
                            </div>
                            <div class="summary-totals">
                                <div class="summary-row">
                                    <span>المجموع الفرعي</span>
                                    <span>ج.م<span id="summary-subtotal">0.00</span></span>
                                </div>
                                <div class="summary-row">
                                    <span>الشحن</span>
                                    <span id="summary-shipping">يحدد عند اختيار المحافظة</span>
                                </div>
                                <div class="summary-row summary-total">
                                    <span>المجموع الكلي</span>
                                    <span>ج.م<span id="summary-total">0.00</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- شريط الثقة قبل الفوتر -->
    <section class="trust-bar">
        <div class="container trust-container">
            <div class="trust-items">
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="trust-content">
                        <h4>فحص قبل التسليم</h4>
                        <p>جميع المنتجات تمر بفحص دقيق للتأكد من الجودة والأداء</p>
                    </div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <div class="trust-content">
                        <h4>شحن لجميع المحافظات</h4>
                        <p>نوصل طلباتك لأي مكان في مصر خلال 24-48 ساعة</p>
                    </div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="trust-content">
                        <h4>ضمان حسب الموديل</h4>
                        <p>ضمان شامل يغطي العيوب المصنعية حسب نوع المنتج</p>
                    </div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="trust-content">
                        <h4>دعم واتساب سريع</h4>
                        <p>فريق الدعم متاح على واتساب للرد على استفساراتك</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="footer">
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img src="https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044455/LAPZONE_co7np7.png" alt="LAP ZONE Logo">
                        <div class="footer-logo-text">
                            <h2>Al Alamy Store</h2>
                            <p class="footer-brand-tagline">متجر متخصص في اللابتوبات والهواتف وقطع الغيار</p>
                            <div class="footer-lapzone-brand">LAP ZONE</div>
                        </div>
                    </div>
                    <p><span class="footer-lapzone-brand">Al Alamy Store - LAP ZONE</span> هي علامة تجارية مصرية متخصصة في بيع اللاب توب الجديد والاستيراد والهواتف المستعملة وقطع الغيار بجودة عالية وأسعار مناسبة، مع خدمة ما بعد البيع المتميزة.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/1LJ8iuHfMT/?mibextid=wwXIfr" class="social-link" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/al_alamy_store_?igsh=MXJ5YndpZzd4YW9jNg==" class="social-link" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/201016805576" class="social-link" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-links-col">
                    <h3 class="footer-title">أقسام المتجر</h3>
                    <ul class="footer-links">
                        <li><a href="#/category/offers">العروض</a></li>
                        <li><a href="#/category/new-laptops">لابات جديدة</a></li>
                        <li><a href="#/category/imported-laptops">لابات استيراد</a></li>
                        <li><a href="#/category/used-phones">هواتف مستعملة</a></li>
                        <li><a href="#/category/parts-accessories">قطع غيار</a></li>
                    </ul>
                </div>
                
                <div class="footer-links-col">
                    <h3 class="footer-title">روابط مهمة</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="openPolicyInNewWindow('shipping'); return false;">سياسة الشحن</a></li>
                        <li><a href="#" onclick="openPolicyInNewWindow('warranty'); return false;">الضمان والصيانة</a></li>
                        <li><a href="#" onclick="openPolicyInNewWindow('contact'); return false;">اتصل بنا</a></li>
                        <li><a href="#" onclick="openPolicyInNewWindow('privacy'); return false;">سياسة الخصوصية</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-title">اتصل بنا</h3>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>العراقي شارع دار تحفيظ القران ابوحماد الشرقيه</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>01067250858 & 01016805576</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alalamylapzoon@gmail.com</span>
                        </li>
                        <li>
                            <i class="fas fa-clock"></i>
                            <span>من الأحد إلى الخميس: 9ص - 12م<br>السبت: 10ص - 12م</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="container">
                <p>
                    &copy; 2026 
                    <span class="footer-lapzone-brand">Al Alamy Store - LAP ZONE</span>. 
                    جميع الحقوق محفوظة. 
                    <a href="https://engahmed4620.github.io/portfolio90"
                    target="_blank"
                    class="developer-link">
                    Developed by Eng.Ahmed Sharif    
                    </a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Order Confirmation Popup -->
    <div class="order-confirmation-popup" id="order-confirmation-popup">
        <div class="order-confirmation-content">
            <button class="close-popup" onclick="closeOrderConfirmation()">&times;</button>
            <div class="confirmation-icon">
                <i class="fas fa-check"></i>
            </div>
            <h1 class="confirmation-title">تم تأكيد طلبك!</h1>
            <p class="confirmation-subtitle">شكراً للتسوق مع <span class="lapzone-brand">Al Alamy Store - LAP ZONE</span>. سيتم تحويلك إلى واتساب لإرسال تفاصيل طلبك.</p>
            
            <div class="order-details-card">
                <div class="order-detail">
                    <span class="order-detail-label">رقم الطلب:</span>
                    <span class="order-detail-value" id="order-number">LAP-123456</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">التاريخ:</span>
                    <span class="order-detail-value" id="order-date">مايو 29, 2023</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">اسم العميل:</span>
                    <span class="order-detail-value" id="order-customer">محمد أحمد</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">رقم الهاتف:</span>
                    <span class="order-detail-value" id="order-phone">01000000000</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">العنوان:</span>
                    <span class="order-detail-value" id="order-address">-</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">المحافظة:</span>
                    <span class="order-detail-value" id="order-governorate">-</span>
                </div>
                <div class="order-detail">
                    <span class="order-detail-label">تكلفة الشحن:</span>
                    <span class="order-detail-value" id="order-shipping">0 ج.م</span>
                </div>
                <div class="order-total">
                    <span>المجموع الكلي:</span>
                    <span>ج.م<span id="order-total">0.00</span></span>
                </div>
            </div>
            
            <p>جارٍ تحويلك إلى واتساب لإرسال تفاصيل طلبك...</p>
            
            <div class="confirmation-actions">
                <a href="#" class="btn btn-primary" onclick="sendToWhatsApp()">إرسال على واتساب الآن</a>
                <a href="#/" class="btn btn-outline" onclick="continueShopping()">مواصلة التسوق</a>
            </div>
        </div>
    </div>

    <!-- Policy Page Popup -->
    <div class="policy-page" id="policy-page">
        <div class="policy-container">
            <button class="close-policy" onclick="closePolicy()">&times;</button>
            <h1 class="policy-title" id="policy-title">سياسة الشحن</h1>
            <div class="policy-content" id="policy-content">
                <!-- Policy content will be loaded here dynamically -->
            </div>
            <div class="text-center">
                <a href="#" class="btn btn-primary" onclick="closePolicy(); return false;">العودة إلى الموقع</a>
            </div>
        </div>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <div class="floating-btn whatsapp-btn" onclick="openWhatsApp('استفسار عام')" title="تواصل معنا على واتساب">
            <i class="fab fa-whatsapp"></i>
        </div>
        <div class="floating-btn cart-btn" onclick="toggleCart()" title="سلة التسوق">
            <i class="fas fa-shopping-bag"></i>
            <span class="floating-badge" id="floating-cart-count">0</span>
        </div>
    </div>
    
    <!-- Shopping Cart -->
    <div class="shopping-cart" id="shopping-cart">
        <div class="cart-header">
            <h3 class="cart-title">سلة التسوق الخاصة بك</h3>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        
        <div class="cart-body">
            <div class="cart-empty" id="cart-empty">
                <i class="fas fa-shopping-bag"></i>
                <h3>سلة التسوق الخاصة بك فارغة</h3>
                <p>يبدو أنك لم تضيف أي شيء إلى سلة التسوق الخاصة بك بعد</p>
                <a href="#/" class="btn btn-primary" onclick="toggleCart(); return false;">مواصلة التسوق</a>
            </div>
            
            <div class="cart-items" id="cart-items">
                <!-- Cart items will be loaded here dynamically -->
            </div>
        </div>
        
        <div class="cart-footer" id="cart-footer" style="display: none;">
            <div class="cart-subtotal">
                <span>المجموع الفرعي:</span>
                <span>ج.م<span id="cart-subtotal">0.00</span></span>
            </div>
            <button class="btn btn-primary checkout-btn" onclick="checkoutFromCart()">إتمام الشراء</button>
        </div>
    </div>

<script>
        // ===== CONFIG =====
        const CONFIG = {
            AUTO_PLAY_MS: 8000,
            SHOW_LATEST_COUNT: 8
        };

        // ✅ الهيكل الأساسي للمنتجات (يتم تحديثه من Supabase أو النسخة المحلية)
        let products = {};

        // ✅ النسخة المحلية الاحتياطية (Fallback)
        const LOCAL_PRODUCTS_BACKUP = {
           'offers': [
            {
    id: 100,
    name: "  ايربودز لابوبو",
    description: "سماعه ايربودز من افضل السماعات اللي ليها سيريال وضمان وبطارين تدوم 10 ساعه تشتغيل",
    price: 350,
    image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1768690706/%D8%A7%D9%8A%D8%B1%D8%A8%D9%88%D8%AF%D8%B2_%D9%84%D8%A8%D9%88%D8%A8%D9%88_1_jcym2s.jpg",
    image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1768690708/%D8%A7%D9%8A%D8%B1%D8%A8%D9%88%D8%AF%D8%B2_%D9%84%D8%A8%D9%88%D8%A8%D9%88_2_yp7mat.jpg",
    details: "تحكم بصمه في السماعه في الرد علي المكالمات - شكل انيق - وفيها عازل للصوت والضوضاء الخارجيه -",
    specifications: {
        "البطارية": "تدوم حتى 10 ساعات",
        "الوزن": "0.2 كجم",
        "الاتصال": " Bluetooth"
    },
},
            ],
           'new-laptops': [
                {
    id: 1,
    name: "Dell Laptop - Intel Core i7 (الجيل 13)",
    description: "لابتوب ديل بشاشة 15.6 بوصة، معالج Intel Core i7، 8GB RAM، 512GB SSD",
    price: 28000,
    originalPrice: 30000,
    image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044450/new1.1_qie26i.jpg",
    image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044457/new1.2_pasplq.jpg",
    details: "لابتوب من ديل بشاشة 15.6 بوصة بدقة FHD، يعمل بمعالج Intel Core i7-1355U من الجيل الثالث عشر، ذاكرة RAM 8 جيجابايت DDR4، تخزين 512 جيجابايت SSD M.2، كارت شاشة Intel Iris Xe، مناسب للأعمال المكتبية، الدراسة، والبرمجة.",
    specifications: {
        "الشاشة": "15.6 بوصة، FHD (1920x1080)",
        "المعالج": "Intel Core i7-1355U (الجيل 13 – 10 أنوية / 12 خيط)",
        "الذاكرة": "8GB DDR4 3200MHz",
        "التخزين": "512GB SSD M.2",
        "كارت الشاشة": "Intel Iris Xe Graphics",
        "استهلاك الطاقة": "15 وات",
        "الاتصال": "Realtek Wi-Fi 5 RTL8821CE، Bluetooth",
        "نظام التشغيل": "Windows 11",
        "الوزن": "حوالي 1.7 – 1.9 كجم"
    }
                },

                   ],
            'imported-laptops': [
                {
    id: 1,
    name: "Dell Latitude E6410",
    description: "لاب توب ديل لاتيتيود، معالج Intel Core i5-350M، ذاكرة 4GB، قرص صلب 250GB.",
    price: 3500,
    originalPrice: 4500,
    image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044323/id1.1_ty2fp1.jpg",
    image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044323/id1.2_lx4vfw.jpg",
    details: "لاب توب Dell Latitude E6410 للأعمال، شاشة 14.1 بوصة، معالج Intel Core i5-350M، ذاكرة RAM 4GB، تخزين HDD 250GB، كارت شاشة Intel HD 3000.",
    specifications: {
        "الشاشة": "14.1 بوصة",
        "المعالج": "Intel Core i5-350M",
        "الذاكرة": "4GB RAM",
        "التخزين": "250GB HDD",
        "كارت الشاشة": "Intel HD Graphics 3000",
        "نظام التشغيل": "Windows 10 Pro",
        "البطارية": "تدوم حتى 4 ساعات"
    }
                },
            ],
            'used-phones': [
                {
    id: 500,
    name: "ريلمي C71 - مستعمل",
    description: "هاتف ريلمي C71 مستعمل لمدة شهر، 128GB، 6GB RAM، مع الكرتونة والشاحن الأصلي، حالة ممتازة",
    price: 6000,
    originalPrice: 6999,
    image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044472/phone1.1_unvs0u.jpg",
    image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044472/phone1.1_unvs0u.jpg",
    details: "هاتف ريلمي C71 مستعمل لمدة شهر فقط، 128GB، 6GB RAM، شاشة كبيرة 6.5 بوصة IPS LCD، بطارية 5000 مللي أمبير، كاميرا خلفية مزدوجة 50+2 ميجابكسل، كاميرا أمامية 8 ميجابكسل، معالج Unisoc T610، مرفق معه الشاحن الأصلي والكرتونة. الجهاز في حالة ممتازة وشاشة بدون خدوش.",
    specifications: {
        "السعة": "128GB",
        "الرام": "6GB",
        "الشاشة": "6.5 بوصة IPS LCD، دقة HD+",
        "المعالج": "Unisoc T610 ثماني النواة",
        "الكاميرا الخلفية": "50 + 2 ميجابكسل، فلاش LED",
        "الكاميرا الأمامية": "8 ميجابكسل",
        "البطارية": "5000 مللي أمبير، شحن 18 وات",
        "الشحن": "شاحن أصلي سريع",
        "الحالة": "مستعمل شهر واحد",
        "الضمان": "حسب المتوفر",
        "اللون": "أسود أو حسب المتوفر"
    },
    gifts: [
        "شاحن أصلي مجاني",
        "كرتونة الجهاز",
        "جراب واسكرينه مجانا "
    ]
                },
                {
    id: 501,
    name: "سامسونج Galaxy A05s - مستعمل",
    description: "هاتف سامسونج Galaxy A05s مستعمل بحالة جيدة، 128GB، 6GB RAM، مع الكرتونة ووصلة الشحن",
    price: 4850,
    originalPrice: 5499,
    image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044472/phone2.1_r4pnkt.jpg",
    image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767044472/phone2.1_r4pnkt.jpg",
    details: "هاتف سامسونج Galaxy A05s مستعمل بحالة جيدة، 128GB، 6GB RAM، شاشة 6.5 بوصة PLS LCD، كاميرا خلفية ثلاثية 13+2+2 ميجابكسل، كاميرا أمامية 5 ميجابكسل، بطارية 5000 مللي أمبير، معالج Octa-core، مرفق معه الكرتونة ووصلة الشحن. الجهاز يعمل بشكل ممتاز، الشاشة سليمة، والبطارية بحالة جيدة.",
    specifications: {
        "السعة": "128GB",
        "الرام": "6GB",
        "الشاشة": "6.5 بوصة PLS LCD، دقة HD+",
        "المعالج": "Octa-core 2.3GHz",
        "الكاميرا الخلفية": "13 + 2 + 2 ميجابكسل، فلاش LED",
        "الكاميرا الأمامية": "5 ميجابكسل",
        "البطارية": "5000 مللي أمبير، شحن 15 وات",
        "الشحن": "وصلة شحن أصلية",
        "الحالة": "مستعمل بحالة جيدة",
        "الضمان": "حسب المتوفر",
        "اللون": "أسود أو حسب المتوفر"
    },
    gifts: [
        "كرتونة الجهاز",
        "وصلة الشحن"
    ]
                }   
            ],
            'parts-accessories': [
    {
        id: 1000,
        name: "بطارية لاب توب ديل أصلية",
        description: "بطارية أصلية لديل، سعة 60Wh، تناسب موديلات متعددة",
        price: 1299,
        originalPrice: 1799,
        image1: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767235170/51KR12AJhhL._AC_UL480_FMwebp_QL65__anwhzn.webp",
        image2: "https://res.cloudinary.com/dqfnkwp8d/image/upload/v1767235170/51KR12AJhhL._AC_UL480_FMwebp_QL65__anwhzn.webp",
        details: "بطارية أصلية لاب توب ديل، سعة 60Wh، تناسب موديلات Inspiron وVostro وLatitude متعددة، عمر طويل، آمنة ومعتمدة من ديل.",
        specifications: {
            "السعة": "60Wh",
            "الجهد": "11.4V",
            "التناسب": "موديلات ديل متعددة",
            "الأصل": "أصلي من ديل",
            "العمر الافتراضي": "500 دورة شحن",
            "الضمان": "سنة واحدة"
        }
    },
            ]
        };

        // ✅ متغير لتتبع حالة التحميل
        let isProductsLoaded = false;
        let productsLoadingPromise = null;

        // Policy content (كما هي بدون تغيير)
        const policies = {
            shipping: {
                title: "سياسة الشحن والتوصيل",
                content: `
                    <h2>سياسة الشحن والتوصيل</h2>
                    <p>في <strong>Al Alamy Store - LAP ZONE</strong>، نضمن وصول طلباتكم بأعلى درجات الكفاءة والأمان.</p>
                    <h3>مناطق التوصيل وأسعار الشحن</h3>
                    <ul>
                        <li>القاهرة - 50 ج.م</li>
                        <li>الجيزة - 75 ج.م</li>
                        <li>الشرقية - 50 ج.م</li>
                        <li>قليوبية - 50 ج.م</li>
                        <li>بنها - 50 ج.م</li>
                        <li>البحيرة - 75 ج.م</li>
                        <li>الإسكندرية - 75 ج.م</li>
                        <li>الإسماعيلية - 50 ج.م</li>
                        <li>الدقهلية - 75 ج.م</li>
                        <li>دمياط - 100 ج.م</li>
                        <li>بورسعيد - 100 ج.م</li>
                        <li>السويس - 60 ج.م</li>
                        <li>شمال وجنوب سيناء - 125 ج.م</li>
                        <li>مطروح - 125 ج.م</li>
                        <li>المنوفية - 50 ج.م</li>
                        <li>الغربية - 75 ج.م</li>
                        <li>كفر الشيخ - 75 ج.م</li>
                        <li>محافظات الصعيد (الفيوم، بني سويف، المنيا، أسيوط، سوهاج، قنا، الأقصر، أسوان، البحر الأحمر، الوادي الجديد) - 150 ج.م</li>
                    </ul>
                    <h3>طرق الدفع</h3>
                    <ul>
                        <li>الدفع عند الاستلام (نقداً أو ببطاقة الائتمان)</li>
                        <li>التحويل البنكي</li>
                        <li>الدفع عبر فودافون كاش أو أورنج كاش</li>
                    </ul>
                `
            },
            warranty: {
                title: "سياسة الضمان والصيانة",
                content: `
                    <h2>الضمان والصيانة</h2>
                    <p>نؤمن في <strong>Al Alamy Store - LAP ZONE</strong> بالجودة والثقة.</p>
                    <h3>فترات الضمان</h3>
                    <ul>
                        <li>اللاب توب الجديد: ضمان من 1-3 سنوات حسب الموديل</li>
                        <li>اللاب توب المستورد: ضمان 1 أشهر إلى 3 اشهر </li>
                        <li>الهواتف المستعملة: ضمان شهر من المحل </li>
                        <li>قطع الغيار: ضمان 2 أشهر إلى سنة</li>
                    </ul>
                    <h3>خدمة الصيانة</h3>
                    <ul>
                        <li>صيانة مجانية خلال فترة الضمان</li>
                        <li>مركز صيانة معتمد</li>
                        <li>خدمة استبدال في حال وجود عيوب مصنعية</li>
                        <li>دعم فني متاح عبر الهاتف والواتساب</li>
                    </ul>
                `
            },
            contact: {
                title: "تواصل معنا",
                content: `
                    <h2>تواصل معنا</h2>
                    <p>نرحب دائمًا بتواصلكم ونسعد بخدمتكم.</p>
                    <h3>معلومات الاتصال</h3>
                    <ul>
                        <li>العنوان: العراقي شارع دار تحفيظ القران ابوحماد الشرقيه</li>
                        <li>الهاتف: 01067250858 & 01016805576</li>
                        <li>البريد الإلكتروني: alalamylapzoon@gmail.com</li>
                        <li>الواتساب: 01067250858</li>
                    </ul>
                    <h3>ساعات العمل</h3>
                    <ul>
                        <li>من الأحد إلى الخميس: 9 صباحاً - 12 منتصف الليل</li>
                        <li>السبت: 10 صباحاً - 12 منتصف الليل</li>
                        <li>الجمعة: إجازة</li>
                    </ul>
                `
            },
            privacy: {
                title: "سياسة الخصوصية",
                content: `
                    <h2>سياسة الخصوصية وحماية البيانات</h2>
                    <p>تلتزم <strong>Al Alamy Store - LAP ZONE</strong> بحماية خصوصية بيانات عملائها الكرام.</p>
                    <h3>البيانات التي نجمعها</h3>
                    <ul>
                        <li>الاسم وبيانات الاتصال (لأغراض التوصيل)</li>
                        <li>رقم الهاتف (لأغراض التواصل والتأكيد)</li>
                        <li>العنوان (لأغراض التوصيل)</li>
                        <li>بيانات الطلبات السابقة (لتحسين الخدمة)</li>
                    </ul>
                    <h3>كيف نستخدم بياناتك</h3>
                    <ul>
                        <li>معالجة الطلبات وتنفيذها</li>
                        <li>التواصل معك حول طلباتك</li>
                        <li>تحسين خدماتنا ومنتجاتنا</li>
                        <li>إرسال عروض وتخفيضات (بموافقتك)</li>
                    </ul>
                    <h3>حماية البيانات</h3>
                    <ul>
                        <li>لا نبيع أو نشارك بياناتك مع أطراف ثالثة</li>
                        <li>نستخدم تقنيات تشفير لحماية بياناتك</li>
                        <li>نحتفظ ببياناتك فقط للفترة اللازمة</li>
                        <li>يمكنك طلب حذف بياناتك في أي وقت</li>
                    </ul>
                `
            }
        };

        // Shopping cart
        let cart = [];

        // Current view state
        let currentView = 'home';
        let currentCategory = '';
        let currentSortOrder = 'default';
        let currentProduct = null;

        // Current order details
        let currentOrder = null;

        // WhatsApp phone numbers
        const whatsappNumbers = {
            offersAndPhones: "201016805576",
            laptopsAndParts: "201067250858" 
        };

        // Shipping costs
        const shippingCosts = {
            'القاهرة': 50,
            'الجيزة': 75,
            'الشرقية': 50,
            'قليوبية': 50,
            'بنها': 50,
            'البحيرة': 75,
            'الإسكندرية': 75,
            'الإسماعيلية': 50,
            'الدقهلية': 75,
            'دمياط': 100,
            'بورسعيد': 100,
            'السويس': 60,
            'شمال سيناء': 125,
            'جنوب سيناء': 125,
            'المنوفية': 50,
            'الغربية': 75,
            'كفر الشيخ': 75,
            'الفيوم': 150,
            'بني سويف': 150,
            'المنيا': 150,
            'أسيوط': 150,
            'سوهاج': 150,
            'قنا': 150,
            'الأقصر': 150,
            'أسوان': 150,
            'البحر الأحمر': 150,
            'الوادي الجديد': 150,
            'مطروح': 125
        };

        // Current shipping cost
        let currentShippingCost = 0;

        // Site base URL
        const siteBaseUrl = window.location.origin + window.location.pathname;

        // DOM elements
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileSearchBtn = document.getElementById('mobile-search-btn');
        const headerSearchContainer = document.getElementById('header-search-container');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        const mainMenu = document.getElementById('main-menu');
        const mainNav = document.getElementById('main-nav');
        const breadcrumb = document.getElementById('breadcrumb');
        const breadcrumbHome = document.getElementById('breadcrumb-home');
        const breadcrumbCategory = document.getElementById('breadcrumb-category');
        const breadcrumbCategorySeparator = document.getElementById('breadcrumb-category-separator');
        const breadcrumbProduct = document.getElementById('breadcrumb-product');
        const breadcrumbProductSeparator = document.getElementById('breadcrumb-product-separator');
        const mainContent = document.getElementById('main-content');
        const homePage = document.getElementById('home-page');
        const categoryPage = document.getElementById('category-page');
        const productDetailPage = document.getElementById('product-detail-page');
        const productHomeBtn = document.getElementById('product-home-btn');
        const productsGrid = document.getElementById('products-grid');
        const productDetailContainer = document.getElementById('product-detail-container');
        const checkoutSection = document.getElementById('checkout-section');
        const orderConfirmationPopup = document.getElementById('order-confirmation-popup');
        const floatingCartCount = document.getElementById('floating-cart-count');
        const shoppingCart = document.getElementById('shopping-cart');
        const cartItems = document.getElementById('cart-items');
        const cartEmpty = document.getElementById('cart-empty');
        const cartFooter = document.getElementById('cart-footer');
        const cartSubtotal = document.getElementById('cart-subtotal');
        const summaryItems = document.getElementById('summary-items');
        const summarySubtotal = document.getElementById('summary-subtotal');
        const summaryTotal = document.getElementById('summary-total');
        const orderNumber = document.getElementById('order-number');
        const orderDate = document.getElementById('order-date');
        const orderCustomer = document.getElementById('order-customer');
        const orderPhone = document.getElementById('order-phone');
        const orderAddress = document.getElementById('order-address');
        const orderGovernorate = document.getElementById('order-governorate');
        const orderShipping = document.getElementById('order-shipping');
        const orderTotal = document.getElementById('order-total');
        const loadingOverlay = document.getElementById('loading-overlay');
        const policyPage = document.getElementById('policy-page');
        const policyTitle = document.getElementById('policy-title');
        const policyContent = document.getElementById('policy-content');
        const faqList = document.getElementById('faq-list');
        const offersTrack = document.getElementById('offers-track');
        const importedTrack = document.getElementById('imported-track');
        const offersPrev = document.getElementById('offers-prev');
        const offersNext = document.getElementById('offers-next');
        const offersIndicators = document.getElementById('offers-indicators');
        const importedPrev = document.getElementById('imported-prev');
        const importedNext = document.getElementById('imported-next');
        const importedIndicators = document.getElementById('imported-indicators');

        // ✅ ===== دالة تحميل المنتجات من Supabase =====
        async function loadProductsFromSupabase() {
            try {
                // ✅ 1. التحقق من وجود Supabase Client
                if (!window.sb && !window.supabaseClient && !window.supabase) {
                    console.log('Supabase client غير متوفر، استخدام النسخة المحلية');
                    return false;
                }
                
                const client = window.sb || window.supabaseClient || window.supabase;

                // ✅ 2. جلب المنتجات من جدول products
                const { data, error } = await client
                    .from('products')
                    .select('*')
                    .order('product_id', { ascending: true });

                if (error) throw error;
                
                if (!data || data.length === 0) {
                    console.log('لا توجد منتجات في قاعدة البيانات');
                    return false;
                }

                console.log(`✅ تم تحميل ${data.length} منتج من Supabase`);

                // ✅ 3. تحويل البيانات إلى هيكل مشابه للنسخة المحلية
                const grouped = {
                    'offers': [],
                    'new-laptops': [],
                    'imported-laptops': [],
                    'used-phones': [],
                    'parts-accessories': []
                };

                data.forEach(p => {
                    const category = p.category || 'offers';
                    
                    // ✅ التحويل الآمن للـ specifications
                    let specifications = {};
                    try {
                        if (typeof p.specifications === 'string') {
                            specifications = JSON.parse(p.specifications);
                        } else if (typeof p.specifications === 'object' && p.specifications !== null) {
                            specifications = p.specifications;
                        }
                    } catch (e) {
                        console.warn('خطأ في تحويل specifications:', e);
                    }

                    // ✅ التحويل الآمن للـ gifts
                    let gifts = [];
                    try {
                        if (typeof p.gifts === 'string') {
                            gifts = JSON.parse(p.gifts);
                        } else if (Array.isArray(p.gifts)) {
                            gifts = p.gifts;
                        }
                    } catch (e) {
                        console.warn('خطأ في تحويل gifts:', e);
                    }

                    // ✅ إنشاء كائن المنتج
                    const product = {
                        id: p.product_id || p.id,
                        name: p.name || 'منتج بدون اسم',
                        description: p.description || '',
                        price: Number(p.price) || 0,
                        originalPrice: p.original_price ? Number(p.original_price) : null,
                        image1: p.image1 || '',
                        image2: p.image2 || '',
                        image3: p.image3 || '',
                        image4: p.image4 || '',
                        details: p.details || '',
                        specifications: specifications,
                        gifts: gifts
                    };

                    // ✅ إضافة المنتج للقسم المناسب
                    if (grouped[category]) {
                        grouped[category].push(product);
                    } else {
                        // ✅ إذا كان القسم غير موجود، نضيفه
                        grouped[category] = [product];
                    }
                });

                // ✅ 4. تحديث كائن المنتجات العام
                products = grouped;
                isProductsLoaded = true;
                
                return true;
            } catch (e) {
                console.error('❌ فشل تحميل المنتجات من Supabase:', e);
                return false;
            }
        }

        // ✅ ===== دالة للحصول على المنتجات بشكل آمن =====
        async function getProducts() {
            if (isProductsLoaded) {
                return products;
            }
            
            if (productsLoadingPromise) {
                return productsLoadingPromise;
            }
            
            productsLoadingPromise = (async () => {
                showLoading();
                
                try {
                    // ✅ محاولة تحميل المنتجات من Supabase
                    const success = await loadProductsFromSupabase();
                    
                    if (!success) {
                        console.log('استخدام النسخة المحلية كـ Fallback');
                        products = JSON.parse(JSON.stringify(LOCAL_PRODUCTS_BACKUP));
                    }
                    
                    isProductsLoaded = true;
                    return products;
                } catch (error) {
                    console.error('خطأ في تحميل المنتجات:', error);
                    products = JSON.parse(JSON.stringify(LOCAL_PRODUCTS_BACKUP));
                    isProductsLoaded = true;
                    return products;
                } finally {
                    setTimeout(hideLoading, 500);
                }
            })();
            
            return productsLoadingPromise;
        }

        // ===== SHOWCASE MANAGER =====
        class ShowcaseManager {
            constructor(category, trackElement, prevBtn, nextBtn, indicatorsElement) {
                this.category = category;
                this.trackElement = trackElement;
                this.prevBtn = prevBtn;
                this.nextBtn = nextBtn;
                this.indicatorsElement = indicatorsElement;
                this.currentSlide = 0;
                this.slides = [];
                this.totalSlides = 0;
                this.slidesPerView = 3;
                this.autoPlayInterval = null;
                this.trackWidth = 0;
                this.slideWidth = 0;
                this.gap = 32; // 2rem in pixels
                this.isAnimating = false;
                this.touchStartX = 0;
                this.touchEndX = 0;
                this.resizeTimeout = null;
            }

            async init() {
                this.updateSlidesPerView();
                await this.loadProducts();
                this.setupEventListeners();
                this.startAutoPlay();
            }

            updateSlidesPerView() {
                if (window.innerWidth <= 768) {
                    this.slidesPerView = 1;
                } else if (window.innerWidth <= 992) {
                    this.slidesPerView = 2;
                } else {
                    this.slidesPerView = 3;
                }
            }

            async loadProducts() {
                // ✅ انتظار تحميل المنتجات أولاً
                if (!isProductsLoaded) {
                    await getProducts();
                }
                
                let categoryProducts = products[this.category];
                if (!categoryProducts || categoryProducts.length === 0) {
                    this.showNoProductsMessage();
                    return;
                }

                // Get latest products (last SHOW_LATEST_COUNT items)
                const latestProducts = categoryProducts
                    .slice(-CONFIG.SHOW_LATEST_COUNT)
                    .sort((a, b) => b.id - a.id); // Sort by ID descending

                if (latestProducts.length === 0) {
                    this.showNoProductsMessage();
                    return;
                }

                this.slides = latestProducts;
                this.totalSlides = latestProducts.length;
                this.renderSlides();
                this.createIndicators();
                this.updateSlidePositions();
                this.updateControls();
            }

            showNoProductsMessage() {
                this.trackElement.innerHTML = `
                    <div class="showcase-no-products">
                        <i class="fas fa-box-open"></i>
                        <h3>لا توجد منتجات حالياً</h3>
                        <p>سيتم إضافة منتجات جديدة قريباً</p>
                    </div>
                `;
                this.prevBtn.style.display = 'none';
                this.nextBtn.style.display = 'none';
                this.indicatorsElement.innerHTML = '';
            }

            renderSlides() {
                this.trackElement.innerHTML = '';
                
                this.slides.forEach(product => {
                    const slide = this.createSlide(product);
                    this.trackElement.appendChild(slide);
                });

                // Store slide elements
                this.slideElements = this.trackElement.querySelectorAll('.showcase-slide');
            }

            createSlide(product) {
                const slide = document.createElement('div');
                slide.className = 'showcase-slide';
                
                const discountBadge = product.originalPrice ? 
                    `<div class="showcase-slide-badge">${Math.round(100 - (product.price / product.originalPrice * 100))}% خصم</div>` : '';
                
                const originalPriceDisplay = product.originalPrice ? 
                    `<span class="showcase-original-price">ج.م${product.originalPrice.toLocaleString('ar-EG')}</span>` : '';
                
                slide.innerHTML = `
                    ${discountBadge}
                    <div class="showcase-slide-img">
                        <img src="${product.image1}" alt="${product.name}" loading="lazy" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                    </div>
                    <div class="showcase-slide-content">
                        <h3 class="showcase-slide-title">${product.name}</h3>
                        <p class="showcase-slide-description">${product.description.substring(0, 100)}...</p>
                        <div class="showcase-slide-price">
                            <span class="showcase-current-price">ج.م${product.price.toLocaleString('ar-EG')}</span>
                            ${originalPriceDisplay}
                        </div>
                        <div class="showcase-slide-actions">
                            <button class="btn btn-primary" onclick="buyNow(${product.id}, '${this.category}')">شراء الآن</button>
                            <button class="btn btn-outline" onclick="navigateTo('/product/${this.category}/${product.id}')">التفاصيل</button>
                        </div>
                    </div>
                `;
                
                return slide;
            }

            createIndicators() {
                this.indicatorsElement.innerHTML = '';
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                
                if (totalGroups <= 1) {
                    this.indicatorsElement.style.display = 'none';
                    return;
                }
                
                this.indicatorsElement.style.display = 'flex';
                
                for (let i = 0; i < totalGroups; i++) {
                    const indicator = document.createElement('div');
                    indicator.className = 'showcase-indicator' + (i === 0 ? ' active' : '');
                    indicator.addEventListener('click', () => this.goToSlide(i));
                    this.indicatorsElement.appendChild(indicator);
                }
            }

            // ✅ دالة updateSlidePositions المحسنة
            updateSlidePositions() {
                if (!this.slideElements || this.slideElements.length === 0) return;

                const cs = getComputedStyle(this.trackElement);
                const gap = parseFloat(cs.gap || cs.columnGap || cs.rowGap) || this.gap;

                this.slideWidth = this.slideElements[0].getBoundingClientRect().width;

                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView) || 1;
                this.currentSlide = Math.max(0, Math.min(this.currentSlide, totalGroups - 1));

                const step = (this.slideWidth + gap) * this.slidesPerView;
                const move = this.currentSlide * step;

                const isRTL =
                    document.dir === 'rtl' ||
                    getComputedStyle(document.documentElement).direction === 'rtl';

                this.trackElement.style.transform = `translateX(${isRTL ? move : -move}px)`;

                this.updateIndicators();
            }

            updateIndicators() {
                const indicators = this.indicatorsElement.querySelectorAll('.showcase-indicator');
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                const currentGroup = Math.floor(this.currentSlide);
                
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentGroup);
                });
            }

            updateControls() {
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                
                if (totalGroups <= 1) {
                    this.prevBtn.style.display = 'none';
                    this.nextBtn.style.display = 'none';
                } else {
                    this.prevBtn.style.display = 'flex';
                    this.nextBtn.style.display = 'flex';
                }
            }

            nextSlide() {
                if (this.isAnimating) return;
                
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                
                this.currentSlide = (this.currentSlide + 1) % totalGroups;
                this.updateSlidePositions();
                this.resetAutoPlay();
                this.isAnimating = true;
                
                setTimeout(() => {
                    this.isAnimating = false;
                }, 500);
            }

            prevSlide() {
                if (this.isAnimating) return;
                
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                
                this.currentSlide = (this.currentSlide - 1 + totalGroups) % totalGroups;
                this.updateSlidePositions();
                this.resetAutoPlay();
                this.isAnimating = true;
                
                setTimeout(() => {
                    this.isAnimating = false;
                }, 500);
            }

            goToSlide(slideIndex) {
                if (this.isAnimating) return;
                
                const totalGroups = Math.ceil(this.totalSlides / this.slidesPerView);
                this.currentSlide = Math.max(0, Math.min(slideIndex, totalGroups - 1));
                this.updateSlidePositions();
                this.resetAutoPlay();
                this.isAnimating = true;
                
                setTimeout(() => {
                    this.isAnimating = false;
                }, 500);
            }

            startAutoPlay() {
                this.stopAutoPlay();
                this.autoPlayInterval = setInterval(() => {
                    this.nextSlide();
                }, CONFIG.AUTO_PLAY_MS);
            }

            stopAutoPlay() {
                if (this.autoPlayInterval) {
                    clearInterval(this.autoPlayInterval);
                    this.autoPlayInterval = null;
                }
            }

            resetAutoPlay() {
                this.stopAutoPlay();
                this.startAutoPlay();
            }

            handleTouchStart(e) {
                this.touchStartX = e.changedTouches[0].screenX;
                this.stopAutoPlay();
            }

            handleTouchEnd(e) {
                this.touchEndX = e.changedTouches[0].screenX;
                this.handleSwipe();
                this.startAutoPlay();
            }

            handleSwipe() {
                const swipeThreshold = 50;
                const diff = this.touchStartX - this.touchEndX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        this.nextSlide();
                    } else {
                        this.prevSlide();
                    }
                }
            }

            handleResize() {
                clearTimeout(this.resizeTimeout);
                this.resizeTimeout = setTimeout(() => {
                    this.updateSlidesPerView();
                    this.updateSlidePositions();
                    this.createIndicators();
                    this.updateControls();
                }, 250);
            }

            setupEventListeners() {
                // Navigation buttons
                this.prevBtn.addEventListener('click', () => this.prevSlide());
                this.nextBtn.addEventListener('click', () => this.nextSlide());
                
                // Touch events for mobile
                this.trackElement.addEventListener('touchstart', (e) => this.handleTouchStart(e), { passive: true });
                this.trackElement.addEventListener('touchend', (e) => this.handleTouchEnd(e), { passive: true });
                
                // Pause on hover
                this.trackElement.addEventListener('mouseenter', () => this.stopAutoPlay());
                this.trackElement.addEventListener('mouseleave', () => this.startAutoPlay());
                
                // Window resize
                window.addEventListener('resize', () => this.handleResize());
            }

            destroy() {
                this.stopAutoPlay();
                window.removeEventListener('resize', () => this.handleResize());
            }
        }

        // ===== GLOBAL VARIABLES =====
        let offersShowcase = null;
        let importedShowcase = null;

        // ✅ تعديل Initialize the page
        document.addEventListener('DOMContentLoaded', async function() {
            // Set current date for order confirmation
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            orderDate.textContent = today.toLocaleDateString('ar-EG', options);
            
            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', function() {
                mainNav.classList.toggle('show');
            });
            
            // Mobile search toggle
            mobileSearchBtn.addEventListener('click', function() {
                headerSearchContainer.classList.toggle('active');
                if (headerSearchContainer.classList.contains('active')) {
                    searchInput.focus();
                }
            });
            
            // Search functionality
            searchInput.addEventListener('input', handleSearch);
            searchInput.addEventListener('focus', handleSearch);
            
            // Close search when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.classList.remove('active');
                }
            });
            
            // Update cart count on page load
            updateCartCount();
            
            // Close menu when clicking on a link
            document.querySelectorAll('#main-menu a').forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        mainNav.classList.remove('show');
                    }
                });
            });
            
            // Close cart when clicking outside on mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    if (!shoppingCart.contains(e.target) && !document.querySelector('.floating-buttons').contains(e.target) && shoppingCart.classList.contains('active')) {
                        toggleCart();
                    }
                }
            });
            
            // Initialize FAQ
            initFAQ();
            
            // ✅ تحميل المنتجات أولاً ثم تهيئة السلايدرات
            await getProducts();
            
            // Initialize dynamic showcases
            initDynamicShowcases();
            
            // Initialize routing
            initRouting();
            
            // Handle initial load
            handleRouting();
            
            console.log('✅ تم تحميل الموقع بنجاح');
            console.log('📊 إجمالي المنتجات:', Object.keys(products).reduce((sum, key) => sum + (products[key]?.length || 0), 0));
        });

        // Initialize FAQ functionality
        function initFAQ() {
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    // Close all other items
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    // Toggle current item
                    item.classList.toggle('active');
                });
            });
        }

        // Initialize dynamic showcases
        function initDynamicShowcases() {
            // Initialize offers showcase
            offersShowcase = new ShowcaseManager(
                'offers',
                offersTrack,
                offersPrev,
                offersNext,
                offersIndicators
            );
            offersShowcase.init();
            
            // Initialize imported laptops showcase
            importedShowcase = new ShowcaseManager(
                'imported-laptops',
                importedTrack,
                importedPrev,
                importedNext,
                importedIndicators
            );
            importedShowcase.init();
        }

        // ✅ دالة handleSearch المحسنة
        function handleSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();

            if (searchTerm.length < 2) {
                searchResults.classList.remove('active');
                return;
            }

            let allProducts = [];
            for (const category in products) {
                (products[category] || []).forEach(product => {
                    allProducts.push({ ...product, category });
                });
            }

            const filteredProducts = allProducts.filter(product => {
                return (product.name || '').toLowerCase().includes(searchTerm) ||
                       (product.description || '').toLowerCase().includes(searchTerm);
            });

            displaySearchResults(filteredProducts);
        }

        // Display search results
        function displaySearchResults(results) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="search-empty">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 1rem; color: #ddd;"></i>
                        <p>لم يتم العثور على منتجات تطابق بحثك</p>
                    </div>
                `;
            } else {
                results.forEach(product => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.onclick = () => {
                        navigateTo(`/product/${product.category}/${product.id}`);
                        searchInput.value = '';
                        searchResults.classList.remove('active');
                        headerSearchContainer.classList.remove('active');
                    };
                    
                    const categoryName = getCategoryName(product.category);
                    
                    resultItem.innerHTML = `
                        <div class="search-result-image">
                            <img src="${product.image1}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/100x100?text=No+Image';">
                        </div>
                        <div class="search-result-info">
                            <div class="search-result-name">${product.name}</div>
                            <div class="search-result-category">${categoryName}</div>
                            <div class="search-result-price">ج.م${product.price.toLocaleString('ar-EG')}</div>
                        </div>
                    `;
                    
                    searchResults.appendChild(resultItem);
                });
            }
            
            searchResults.classList.add('active');
        }

        // Initialize routing system
        function initRouting() {
            // Listen for hash changes
            window.addEventListener('hashchange', handleRouting);
            
            // Handle browser back/forward buttons
            window.addEventListener('popstate', handleRouting);
        }

        // Handle routing based on URL hash
        function handleRouting() {
            const hash = window.location.hash || '#/';

            if (hash === '#/' || hash === '') {
                navigateToHomePage();
            } 
            else if (hash.startsWith('#/category/')) {
                const category = hash.replace('#/category/', '');
                navigateToCategoryPage(category);
            } 
            else if (hash.startsWith('#/product/')) {
                const path = hash.replace('#/product/', '');
                const parts = path.split('/');

                if (parts.length >= 2) {
                    const category = parts[0];
                    const productId = parseInt(parts[1]);
                    navigateToProductPage(productId, category);
                }
            } 
            else {
                navigateToHomePage();
            }
        }

        // Navigate to a specific page
        function navigateTo(path) {
            if (path === 'home' || path === '/') {
                window.location.hash = '#/';
                navigateToHomePage();
            } else if (path.startsWith('/')) {
                window.location.hash = '#' + path;
                // Trigger the hash change to handle the navigation
                handleRouting();
            }
        }

        // عرض الصفحة الرئيسية بشكل صحيح
        function navigateToHomePage() {
            showLoading();

            currentView = 'home';
            currentCategory = '';
            currentProduct = null;

            // إخفاء كل الصفحات
            homePage.style.display = 'block';
            categoryPage.style.display = 'none';
            productDetailPage.style.display = 'none';
            checkoutSection.style.display = 'none';

            orderConfirmationPopup.classList.remove('active');
            policyPage.classList.remove('active');

            // إخفاء الـ breadcrumb
            breadcrumb.style.display = 'none';

            // إظهار الفوتر وشريط الثقة
            document.querySelector('.trust-bar').style.display = 'block';
            footer.style.display = 'block';

            updateActiveMenuItem('home');

            window.scrollTo({ top: 0, behavior: 'smooth' });

            setTimeout(hideLoading, 300);
        }
            
        // Navigate to category page
        function navigateToCategoryPage(category) {
            showLoading();
            
            currentView = 'category';
            currentCategory = category;
            
            // Hide all pages
            homePage.style.display = 'none';
            categoryPage.style.display = 'none';
            productDetailPage.style.display = 'none';
            checkoutSection.style.display = 'none';
            orderConfirmationPopup.classList.remove('active');
            policyPage.classList.remove('active');
            document.querySelector('.trust-bar').style.display = 'none';
            footer.style.display = 'none';
            
            // Show category page
            categoryPage.style.display = 'block';
            breadcrumb.style.display = 'block';
            breadcrumbCategory.style.display = 'block';
            breadcrumbCategorySeparator.style.display = 'inline-block';
            breadcrumbProduct.style.display = 'none';
            breadcrumbProductSeparator.style.display = 'none';
            
            // Update breadcrumb
            const categoryNames = {
                'offers': 'العروض',
                'new-laptops': 'لابات جديدة',
                'imported-laptops': 'لابات استيراد',
                'used-phones': 'هواتف مستعملة',
                'parts-accessories': 'قطع غيار'
            };
            
            breadcrumbCategory.innerHTML = `<span class="active">${categoryNames[category]}</span>`;
            
            // ✅ التحقق من وجود القسم
            if (!products[category]) {
                products[category] = [];
            }
            
            // Reset sort order
            currentSortOrder = 'default';
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector('.sort-btn[onclick*="default"]').classList.add('active');
            
            // ✅ تمرير المصفوفة بشكل آمن
            renderProducts(products[category] || []);
            
            // Update active menu item
            updateActiveMenuItem(category);
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            setTimeout(hideLoading, 300);
        }

        // Navigate to product page
        async function navigateToProductPage(productId, category) {
            showLoading();
            
            currentView = 'product';
            currentCategory = category;
            currentProduct = productId;
            
            // Hide all pages
            homePage.style.display = 'none';
            categoryPage.style.display = 'none';
            productDetailPage.style.display = 'none';
            checkoutSection.style.display = 'none';
            orderConfirmationPopup.classList.remove('active');
            policyPage.classList.remove('active');
            document.querySelector('.trust-bar').style.display = 'none';
            footer.style.display = 'none';
            
            // Show product detail page
            productDetailPage.style.display = 'block';
            breadcrumb.style.display = 'block';
            breadcrumbCategory.style.display = 'block';
            breadcrumbCategorySeparator.style.display = 'inline-block';
            breadcrumbProduct.style.display = 'block';
            breadcrumbProductSeparator.style.display = 'inline-block';
            
            // Update breadcrumb
            const categoryNames = {
                'offers': 'العروض',
                'new-laptops': 'لابات جديدة',
                'imported-laptops': 'لابات استيراد',
                'used-phones': 'هواتف مستعملة',
                'parts-accessories': 'قطع غيار'
            };
            
            // ✅ التأكد من تحميل المنتجات أولاً
            if (!isProductsLoaded) {
                await getProducts();
            }
            
            const product = (products[category] || []).find(p => p.id === productId);
            
            breadcrumbCategory.innerHTML = `<a href="#/category/${category}">${categoryNames[category]}</a>`;
            breadcrumbProduct.innerHTML = `<span class="active">${product ? product.name : 'منتج غير موجود'}</span>`;
            
            // Render product detail
            if (product) {
                renderProductDetail(productId, category);
            } else {
                productDetailContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: #f44336; margin-bottom: 20px;"></i>
                        <h3>المنتج غير موجود</h3>
                        <p>عذراً، المنتج الذي تبحث عنه غير متوفر حالياً.</p>
                        <a href="#/category/${category}" class="btn btn-primary" onclick="goBackToCategory(); return false;">العودة إلى القسم</a>
                    </div>
                `;
            }
            
            // Update active menu item
            updateActiveMenuItem(category);
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            setTimeout(hideLoading, 300);
        }

        // Function to go back to category from product page
        function goBackToCategory() {
            if (currentCategory) {
                navigateTo(`/category/${currentCategory}`);
            } else {
                navigateTo('home');
            }
        }

        // Update active menu item
        function updateActiveMenuItem(activeItem) {
            document.querySelectorAll('#main-menu a').forEach(link => {
                link.classList.remove('active');
            });

            if (activeItem === 'home') {
                const homeLink = document.querySelector('#main-menu a[href="#/"]');
                if (homeLink) {
                    homeLink.classList.add('active');
                }

                document.querySelector('.trust-bar').style.display = 'block';
                footer.style.display = 'block';

            } else {
                const menuItem = document.querySelector(`#main-menu a[href="#/category/${activeItem}"]`);
                if (menuItem) {
                    menuItem.classList.add('active');
                }

                document.querySelector('.trust-bar').style.display = 'none';
                footer.style.display = 'none';
            }
        }

        // Sort products by price
        function sortProducts(order) {
            currentSortOrder = order;
            
            // Update active button
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            // Get current category products
            const categoryProducts = [...(products[currentCategory] || [])];
            
            // Sort based on order
            if (order === 'low-to-high') {
                categoryProducts.sort((a, b) => a.price - b.price);
            } else if (order === 'high-to-low') {
                categoryProducts.sort((a, b) => b.price - a.price);
            }
            // For 'default', use original order
            
            // Re-render products
            renderProducts(categoryProducts);
        }

        // Render products in grid
        function renderProducts(productsList) {
            productsGrid.innerHTML = '';
            
            if (!productsList || productsList.length === 0) {
                productsGrid.innerHTML = `
                    <div class="no-products">
                        <i class="fas fa-box-open"></i>
                        <h3>لا توجد منتجات في هذا القسم حالياً</h3>
                        <p>سيتم إضافة منتجات جديدة قريباً</p>
                    </div>
                `;
                return;
            }
            
            productsList.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card fade-in-up';
                
                // Create discount badge if there's an original price
                const discountBadge = product.originalPrice ? 
                    `<div class="badge badge-primary">${Math.round(100 - (product.price / product.originalPrice * 100))}% خصم</div>` : '';
                
                // Create original price display if applicable
                const originalPriceDisplay = product.originalPrice ? 
                    `<span class="original-price">ج.م${product.originalPrice.toLocaleString('ar-EG')}</span>` : '';
                
                productCard.innerHTML = `
                    <div class="product-badges">
                        ${discountBadge}
                    </div>
                    <div class="product-images">
                        <img src="${product.image1}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                        ${product.image2 ? `<img src="${product.image2}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">` : ''}
                        ${product.image3 ? `<img src="${product.image3}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">` : ''}
                        ${product.image4 ? `<img src="${product.image4}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">` : ''}
                    </div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <div class="product-price">
                            <span class="current-price">ج.م${product.price.toLocaleString('ar-EG')}</span>
                            ${originalPriceDisplay}
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary" onclick="buyNow(${product.id}, '${currentCategory}')">شراء الآن</button>
                            <button class="btn btn-outline" onclick="navigateTo('/product/${currentCategory}/${product.id}')">التفاصيل</button>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart(${product.id}, '${currentCategory}')">
                            <i class="fas fa-shopping-cart"></i> أضف إلى السلة
                        </button>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
        }

        // Render product detail
        function renderProductDetail(productId, category) {
            // Find the product
            const product = (products[category] || []).find(p => p.id === productId);
            
            if (!product) {
                productDetailContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: #f44336; margin-bottom: 20px;"></i>
                        <h3>المنتج غير موجود</h3>
                        <p>عذراً، المنتج الذي تبحث عنه غير متوفر حالياً.</p>
                        <a href="#/category/${category}" class="btn btn-primary" onclick="goBackToCategory(); return false;">العودة إلى القسم</a>
                    </div>
                `;
                return;
            }
            
            // Create discount badge if there's an original price
            const discountBadge = product.originalPrice ? 
                `<div class="badge badge-primary">${Math.round(100 - (product.price / product.originalPrice * 100))}% خصم</div>` : '';
            
            // Create original price display if applicable
            const originalPriceDisplay = product.originalPrice ? 
                `<span class="detail-original-price">ج.م${product.originalPrice.toLocaleString('ar-EG')}</span>
                <span class="detail-discount">${Math.round(100 - (product.price / product.originalPrice * 100))}% خصم</span>` : '';
            
            // Create specifications grid
            let specificationsHTML = '';
            for (const [key, value] of Object.entries(product.specifications || {})) {
                specificationsHTML += `
                    <div class="spec-item">
                        <span class="spec-label">${key}</span>
                        <span class="spec-value">${value}</span>
                    </div>
                `;
            }
            
            // Create gifts list if available
            let giftsHTML = '';
            if (product.gifts && product.gifts.length > 0) {
                giftsHTML = `
                    <div class="product-gifts">
                        <h3 class="gifts-title">
                            <i class="fas fa-gift"></i>
                            هدايا مجانية مع المنتج
                        </h3>
                        <ul class="gifts-list">
                            ${product.gifts.map(gift => `
                                <li>
                                    <i class="fas fa-check-circle"></i>
                                    ${gift}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            }
            
            // Get category name in Arabic
            let categoryName = '';
            switch(category) {
                case 'offers': categoryName = '🔥 عرض خاص'; break;
                case 'new-laptops': categoryName = '💎 لابات جديدة'; break;
                case 'imported-laptops': categoryName = '⭐ لابات استيراد'; break;
                case 'used-phones': categoryName = '📱 هواتف مستعملة'; break;
                case 'parts-accessories': categoryName = '🔧 قطع غيار'; break;
            }
            
            // Create thumbnails for all images
            let thumbnailsHTML = '';
            if (product.image1) {
                thumbnailsHTML += `
                    <div class="thumbnail active" onclick="changeMainImage(this, '${product.image1}')">
                        <img src="${product.image1}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                    </div>
                `;
            }
            if (product.image2) {
                thumbnailsHTML += `
                    <div class="thumbnail" onclick="changeMainImage(this, '${product.image2}')">
                        <img src="${product.image2}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                    </div>
                `;
            }
            if (product.image3) {
                thumbnailsHTML += `
                    <div class="thumbnail" onclick="changeMainImage(this, '${product.image3}')">
                        <img src="${product.image3}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                    </div>
                `;
            }
            if (product.image4) {
                thumbnailsHTML += `
                    <div class="thumbnail" onclick="changeMainImage(this, '${product.image4}')">
                        <img src="${product.image4}" alt="${product.name}" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x300?text=No+Image';">
                    </div>
                `;
            }
            
            // Generate product share URL
            const shareUrl = `${siteBaseUrl}#/product/${category}/${productId}`;
            
            // Populate product detail
            productDetailContainer.innerHTML = `
                <div class="product-detail-wrapper">
                    <div class="product-detail-images">
                        <div class="main-image-wrapper">
                            <img src="${product.image1}" alt="${product.name}" class="main-image" id="main-product-image" onerror="this.onerror=null; this.src='https://via.placeholder.com/500x500?text=No+Image';">
                            <button class="image-zoom" onclick="zoomImage('${product.image1}')">
                                <i class="fas fa-search-plus"></i>
                            </button>
                        </div>
                        <div class="thumbnail-images">
                            ${thumbnailsHTML}
                        </div>
                    </div>
                    <div class="product-detail-info">
                        <div class="product-detail-header">
                            <span class="product-detail-category">${categoryName}</span>
                            <h2 class="product-detail-title">${product.name}</h2>
                            <div class="product-detail-meta">
                                <span><i class="fas fa-box"></i> متوفر في المخزن</span>
                                <span><i class="fas fa-shipping-fast"></i> شحن سريع خلال 24-48 ساعة</span>
                                <span><i class="fas fa-shield-alt"></i> ضمان شامل</span>
                            </div>
                        </div>
                        
                        <div class="product-detail-price-container">
                            <div class="product-detail-price">
                                <span class="detail-current-price">ج.م${product.price.toLocaleString('ar-EG')}</span>
                                ${originalPriceDisplay}
                            </div>
                            ${discountBadge}
                        </div>
                        
                        <!-- Share Buttons -->
                        <div class="share-buttons-container">
                            <span class="share-label">مشاركة:</span>
                            <div class="share-buttons">
                                <button class="share-btn share-whatsapp" onclick="shareProductViaWhatsApp('${product.name}', '${shareUrl}')">
                                    <i class="fab fa-whatsapp"></i> واتساب
                                </button>
                                <button class="share-btn share-copy" onclick="copyProductLink('${shareUrl}')">
                                    <i class="fas fa-copy"></i> نسخ الرابط
                                </button>
                            </div>
                        </div>
                        
                        ${giftsHTML}
                        
                        <p class="product-detail-description">${product.details || product.description}</p>
                        
                        <div class="product-detail-specs">
                            <h3 class="specs-title">
                                <i class="fas fa-cogs"></i>
                                المواصفات الفنية
                            </h3>
                            <div class="specs-grid">
                                ${specificationsHTML || '<p>لا توجد مواصفات متاحة</p>'}
                            </div>
                        </div>
                        
                        <div class="product-detail-actions-container">
                            <div class="quantity-selector-wrapper">
                                <span class="quantity-label">الكمية:</span>
                                <div class="quantity-selector">
                                    <button class="quantity-btn" onclick="updateQuantity(this, -1)">-</button>
                                    <input type="number" class="quantity-input" value="1" min="1" max="10">
                                    <button class="quantity-btn" onclick="updateQuantity(this, 1)">+</button>
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="addToCart(${product.id}, '${category}', parseInt(document.querySelector('.quantity-input').value))">
                                    <i class="fas fa-shopping-cart"></i> أضف إلى السلة
                                </button>
                                <button class="btn btn-accent" onclick="buyNow(${product.id}, '${category}')">
                                    <i class="fas fa-bolt"></i> شراء الآن
                                </button>
                                <button class="wishlist-btn" onclick="toggleWishlist(${product.id})">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- WhatsApp Inquiry Section -->
                        <div class="whatsapp-inquiry">
                            <i class="fab fa-whatsapp"></i>
                            <div class="whatsapp-inquiry-content">
                                <h4>للاستفسار عن المنتج</h4>
                                <p>لديك استفسار عن هذا المنتج؟ تواصل معنا على واتساب للرد على جميع أسئلتك.</p>
                            </div>
                            <button class="whatsapp-inquiry-btn" onclick="openWhatsApp('استفسار عن منتج', '${product.name}')">
                                <i class="fab fa-whatsapp"></i> تواصل معنا
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Change main image in product detail
        function changeMainImage(thumbnail, imageSrc) {
            const mainImage = document.getElementById('main-product-image');
            if (mainImage) {
                mainImage.src = imageSrc;
            }
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            thumbnail.classList.add('active');
        }

        // Share product via WhatsApp
        function shareProductViaWhatsApp(productName, productUrl) {
            const message = `*${productName}*\n\n${productUrl}\n\n🔗 شارك هذا المنتج من Al Alamy Store - LAP ZONE`;
            const encodedMessage = encodeURIComponent(message);
            // Use default number for sharing
            const whatsappURL = `https://wa.me/${whatsappNumbers.offersAndPhones}?text=${encodedMessage}`;
            window.open(whatsappURL, '_blank');
        }

        // Copy product link to clipboard
        function copyProductLink(url) {
            navigator.clipboard.writeText(url).then(() => {
                showNotification('تم نسخ رابط المنتج إلى الحافظة', 'success');
            }).catch(err => {
                showNotification('تعذر نسخ الرابط', 'error');
            });
        }

        // Zoom image
        function zoomImage(imageSrc) {
            const zoomWindow = window.open(imageSrc, '_blank', 'width=800,height=600');
            if (zoomWindow) {
                zoomWindow.document.write(`
                    <html>
                    <head>
                        <title>تكبير الصورة</title>
                        <style>
                            body { margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: rgba(0,0,0,0.9); }
                            img { max-width: 100%; max-height: 100%; }
                        </style>
                    </head>
                    <body>
                        <img src="${imageSrc}" alt="صورة مكبرة" onerror="this.onerror=null; this.src='https://via.placeholder.com/500x500?text=No+Image';">
                    </body>
                    </html>
                `);
            }
        }

        // ✅ دالة حفظ الطلب في Supabase (Dashboard)
        async function saveOrderToSupabase(order) {
            try {
                if (!window.sb && !window.supabaseClient && !window.supabase) return { ok: false, reason: 'no-client' };
                const client = window.sb || window.supabaseClient || window.supabase;

                const payload = {
                    order_number: order.orderNumber,
                    customer_name: order.customerName,
                    phone1: order.customerPhone,
                    phone2: order.customerPhone2 !== 'لا يوجد' ? order.customerPhone2 : null,
                    governorate: order.governorate,
                    area: order.area,
                    address: order.customerAddress,
                    notes: order.notes || null,
                    items: order.items,
                    subtotal: order.subtotal,
                    shipping: order.shippingCost,
                    total: order.total,
                    status: 'new'
                };

                const { error } = await client.from('orders').insert([payload]);
                if (error) throw error;

                console.log('✅ تم حفظ الطلب في Supabase:', order.orderNumber);
                return { ok: true };
            } catch (e) {
                console.warn('❌ فشل حفظ الطلب في Supabase:', e);
                return { ok: false, reason: e?.message || String(e) };
            }
        }

        // Update shipping cost based on selected governorate
        function updateShippingCost() {
            const governorateSelect = document.getElementById('governorate');
            const selectedOption = governorateSelect.options[governorateSelect.selectedIndex];
            
            if (selectedOption.value) {
                currentShippingCost = shippingCosts[selectedOption.value] || 0;
                
                // Update summary display
                document.getElementById('summary-shipping').innerHTML = `${currentShippingCost.toLocaleString('ar-EG')} ج.م`;
                
                // Update total
                const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                const total = subtotal + currentShippingCost;
                
                document.getElementById('summary-total').textContent = total.toLocaleString('ar-EG');
            } else {
                document.getElementById('summary-shipping').textContent = 'يحدد عند اختيار المحافظة';
                document.getElementById('summary-total').textContent = document.getElementById('summary-subtotal').textContent;
            }
        }

        // Show loading overlay
        function showLoading() {
            loadingOverlay.classList.add('active');
        }

        // Hide loading overlay
        function hideLoading() {
            loadingOverlay.classList.remove('active');
        }

        // Open WhatsApp with a message
        function openWhatsApp(messageType = 'استفسار عام', productName = '') {
            let message = '';
            
            if (messageType === 'استفسار عن منتج' && productName) {
                message = `*استفسار عن منتج - Al Alamy Store - LAP ZONE*\n\nأرغب في الاستفسار عن المنتج التالي:\n${productName}\n\nمن فضلك تواصل معي للمزيد من المعلومات.`;
            } else if (messageType === 'استفسار عام') {
                message = `*استفسار عام - Al Alamy Store - LAP ZONE*\n\nأرغب في الاستفسار عن المنتجات والخدمات المتوفرة.\n\nمن فضلك تواصل معي.`;
            }
            
            // Encode message for URL
            const encodedMessage = encodeURIComponent(message);
            
            // Use default number for inquiries
            const whatsappURL = `https://wa.me/${whatsappNumbers.offersAndPhones}?text=${encodedMessage}`;
            
            // Open WhatsApp in new tab
            window.open(whatsappURL, '_blank');
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Update quantity in product detail
        function updateQuantity(btn, change) {
            const quantityInput = btn.parentElement.querySelector('.quantity-input');
            let newQuantity = parseInt(quantityInput.value) + change;
            
            if (newQuantity < 1) newQuantity = 1;
            if (newQuantity > 10) newQuantity = 10;
            quantityInput.value = newQuantity;
        }

        // Toggle wishlist
        function toggleWishlist(productId) {
            const wishlistBtn = document.querySelector('.wishlist-btn i');
            if (wishlistBtn.classList.contains('far')) {
                wishlistBtn.classList.remove('far');
                wishlistBtn.classList.add('fas');
                wishlistBtn.style.color = '#f44336';
                showNotification('تمت إضافة المنتج إلى قائمة المفضلة');
            } else {
                wishlistBtn.classList.remove('fas');
                wishlistBtn.classList.add('far');
                wishlistBtn.style.color = '';
                showNotification('تمت إزالة المنتج من قائمة المفضلة');
            }
        }

        // Add to cart
        function addToCart(productId, category, quantity = 1) {
            // ✅ التأكد من وجود المنتج في products
            const product = (products[category] || []).find(p => p.id === productId);
            if (!product) {
                showNotification('المنتج غير موجود', 'error');
                return;
            }
            
            const existingItem = cart.find(item => item.id === product.id && item.category === category);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...product,
                    category,
                    quantity: quantity
                });
            }
            
            updateCartCount();
            showNotification(`تمت إضافة ${product.name} إلى سلة التسوق الخاصة بك!`);
        }

        // Update cart count and display
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + (item.quantity || 0), 0);
            floatingCartCount.textContent = totalItems;
            
            // Update cart items list
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartEmpty.style.display = 'flex';
                cartFooter.style.display = 'none';
                return;
            }
            
            cartEmpty.style.display = 'none';
            cartFooter.style.display = 'block';
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                
                const itemTotal = (item.price || 0) * (item.quantity || 1);
                subtotal += itemTotal;
                
                cartItem.innerHTML = `
                    <div class="cart-item-img">
                        <img src="${item.image1 || ''}" alt="${item.name || 'منتج'}" onerror="this.onerror=null; this.src='https://via.placeholder.com/100x100?text=No+Image';">
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-title">${item.name || 'منتج'}</h4>
                        <p class="cart-item-category">${getCategoryName(item.category)}</p>
                        <div class="cart-item-price">ج.م${itemTotal.toLocaleString('ar-EG')}</div>
                        <div class="cart-item-actions">
                            <div class="cart-item-quantity">
                                <button class="quantity-change" onclick="updateCartItem(${item.id}, '${item.category}', ${(item.quantity || 1) - 1})">-</button>
                                <span class="quantity-display">${item.quantity || 1}</span>
                                <button class="quantity-change" onclick="updateCartItem(${item.id}, '${item.category}', ${(item.quantity || 1) + 1})">+</button>
                            </div>
                            <button class="cart-item-remove" onclick="removeFromCart(${item.id}, '${item.category}')">
                                <i class="fas fa-trash"></i> إزالة
                            </button>
                        </div>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            // Update cart totals
            const shipping = 0;
            const total = subtotal;
            
            cartSubtotal.textContent = subtotal.toLocaleString('ar-EG');
            
            // Update summary in checkout
            summaryItems.innerHTML = '';
            
            cart.forEach(item => {
                const summaryItem = document.createElement('div');
                summaryItem.className = 'summary-item';
                
                summaryItem.innerHTML = `
                    <div class="summary-item-img">
                        <img src="${item.image1 || ''}" alt="${item.name || 'منتج'}" onerror="this.onerror=null; this.src='https://via.placeholder.com/100x100?text=No+Image';">
                    </div>
                    <div class="summary-item-details">
                        <h4>${item.name || 'منتج'}</h4>
                        <div class="summary-item-price">ج.م${(item.price || 0).toLocaleString('ar-EG')}</div>
                        <div class="summary-item-quantity">الكمية: ${item.quantity || 1}</div>
                    </div>
                `;
                
                summaryItems.appendChild(summaryItem);
            });
            
            const currentTotal = subtotal + currentShippingCost;
            
            summarySubtotal.textContent = subtotal.toLocaleString('ar-EG');
            summaryTotal.textContent = currentTotal.toLocaleString('ar-EG');
            orderTotal.textContent = currentTotal.toLocaleString('ar-EG');
        }

        // Get category name in Arabic
        function getCategoryName(category) {
            switch(category) {
                case 'new-laptops': return 'لابات جديدة';
                case 'imported-laptops': return 'لابات استيراد';
                case 'offers': return 'العروض';
                case 'used-phones': return 'هواتف مستعملة';
                case 'parts-accessories': return 'قطع غيار';
                default: return category;
            }
        }

        // Update cart item quantity
        function updateCartItem(productId, category, newQuantity) {
            if (newQuantity < 1) {
                removeFromCart(productId, category);
                return;
            }
            
            const item = cart.find(item => item.id === productId && item.category === category);
            if (item) {
                item.quantity = newQuantity;
                updateCartCount();
            }
        }

        // Remove from cart
        function removeFromCart(productId, category) {
            cart = cart.filter(item => !(item.id === productId && item.category === category));
            updateCartCount();
        }

        // Toggle cart visibility
        function toggleCart() {
            shoppingCart.classList.toggle('active');
        }

        // Buy now
        function buyNow(productId, category) {
            // Clear cart and add just this product
            const product = (products[category] || []).find(p => p.id === productId);
            if (!product) {
                showNotification('المنتج غير موجود', 'error');
                return;
            }
            
            cart = [{
                ...product,
                category,
                quantity: 1
            }];
            
            updateCartCount();
            checkoutFromCart();
        }

        // Checkout from cart
        function checkoutFromCart() {
            if (cart.length === 0) {
                showNotification('سلة التسوق الخاصة بك فارغة. يرجى إضافة بعض المنتجات أولاً.', 'error');
                return;
            }
            
            // Reset shipping cost
            currentShippingCost = 0;
            
            // Hide all pages and show checkout
            homePage.style.display = 'none';
            categoryPage.style.display = 'none';
            productDetailPage.style.display = 'none';
            checkoutSection.style.display = 'block';
            orderConfirmationPopup.classList.remove('active');
            policyPage.classList.remove('active');
            document.querySelector('.trust-bar').style.display = 'none';
            footer.style.display = 'none';
            breadcrumb.style.display = 'none';
            
            // Reset governorate selection
            document.getElementById('governorate').value = '';
            document.getElementById('summary-shipping').textContent = 'يحدد عند اختيار المحافظة';
            
            // Close cart if open
            shoppingCart.classList.remove('active');
            
            // Scroll to checkout
            setTimeout(() => {
                window.scrollTo({
                    top: checkoutSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            }, 100);
        }

        // ✅ تعديل دالة submitOrder - حفظ الطلب في Supabase فقط
        async function submitOrder() {
            const firstName = document.getElementById('first-name').value.trim();
            const lastName = document.getElementById('last-name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const phone2 = document.getElementById('phone2').value.trim();
            const governorate = document.getElementById('governorate').value;
            const area = document.getElementById('area').value.trim();
            const address = document.getElementById('address').value.trim();
            const notes = document.getElementById('notes').value.trim();
            
            if (!firstName || !lastName || !phone || !governorate || !area || !address) {
                showNotification('يرجى ملء جميع الحقول المطلوبة', 'error');
                return;
            }
            
            if (phone.length < 10) {
                showNotification('يرجى إدخال رقم هاتف صحيح (10 أرقام على الأقل)', 'error');
                return;
            }
            
            // Validate governorate
            if (!governorate || !shippingCosts[governorate]) {
                showNotification('يرجى اختيار محافظة صحيحة', 'error');
                return;
            }
            
            showLoading();
            
            // Calculate order total
            const subtotal = cart.reduce((total, item) => total + ((item.price || 0) * (item.quantity || 1)), 0);
            const shipping = currentShippingCost;
            const total = subtotal + shipping;
            
            // Generate random order number
            const orderNum = 'LAP-' + Math.floor(100000 + Math.random() * 900000);
            
            // Save order details with category information
            currentOrder = {
                orderNumber: orderNum,
                customerName: `${firstName} ${lastName}`,
                customerPhone: phone,
                customerPhone2: phone2 || 'لا يوجد',
                governorate: governorate,
                area: area,
                customerAddress: address,
                notes: notes,
                shippingCost: shipping,
                items: cart.map(item => ({
                    name: item.name || 'منتج',
                    quantity: item.quantity || 1,
                    price: item.price || 0,
                    total: (item.price || 0) * (item.quantity || 1),
                    category: item.category || 'unknown'
                })),
                subtotal: subtotal,
                shipping: shipping,
                total: total,
                date: new Date().toLocaleDateString('ar-EG')
            };
            
            // ✅ حفظ الطلب في Supabase (Dashboard) - إلزامي
            const saveResult = await saveOrderToSupabase(currentOrder);
            if (!saveResult.ok) {
                hideLoading();
                showNotification('تعذر تسجيل الطلب في الداشبورد. حاول مرة أخرى.', 'error');
                return;
            }
            
            // Hide checkout section
            checkoutSection.style.display = 'none';
            
            // Display order confirmation popup
            orderNumber.textContent = orderNum;
            orderCustomer.textContent = `${firstName} ${lastName}`;
            orderPhone.textContent = phone + (phone2 ? ` / ${phone2}` : '');
            orderAddress.textContent = `${address}, ${area}, ${governorate}`;
            orderGovernorate.textContent = governorate;
            orderShipping.textContent = `${shipping.toLocaleString('ar-EG')} ج.م`;
            orderTotal.textContent = total.toLocaleString('ar-EG');
            
            // Clear cart
            cart = [];
            updateCartCount();
            
            // Reset form
            document.getElementById('order-form').reset();
            
            setTimeout(() => {
                hideLoading();
                orderConfirmationPopup.classList.add('active');
            }, 500);
        }

        // Close order confirmation popup
        function closeOrderConfirmation() {
            orderConfirmationPopup.classList.remove('active');
            navigateTo('/');
        }

        // Send order to WhatsApp - DISABLED (orders saved to Supabase dashboard only)
        function sendToWhatsApp() {
            // Disabled: orders are saved to Supabase dashboard only.
            return;
        }

        // Function to determine WhatsApp number based on order items
        function getWhatsAppNumberForOrder(order) {
            // Check if order contains any laptops or parts
            const hasLaptopsOrParts = order.items.some(item =>
                item.category === 'new-laptops' ||
                item.category === 'imported-laptops' ||
                item.category === 'parts-accessories'
            );

            // Return appropriate number
            return hasLaptopsOrParts
                ? whatsappNumbers.laptopsAndParts
                : whatsappNumbers.offersAndPhones;
        }

        // Open policy in new window (popup)
        function openPolicyInNewWindow(policyType) {
            const policy = policies[policyType];
            policyTitle.textContent = policy.title;
            policyContent.innerHTML = policy.content;
            policyPage.classList.add('active');
        }

        // Close policy popup
        function closePolicy() {
            policyPage.classList.remove('active');
        }

        // Continue shopping
        function continueShopping() {
            closeOrderConfirmation();
        }

</script>
</body>
</html>
